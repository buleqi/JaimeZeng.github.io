{"title":"CentOS 7 使用 Docker 快速搭建 LNMP 环境","uid":"cea1a94a50542f103362df752d09b04e","slug":"2021-01-03-CentOS-7-使用-Docker-快速搭建-LNMP-环境","date":"2021-01-03T15:34:50.000Z","updated":"2021-08-28T16:49:26.490Z","comments":true,"path":"api/articles/2021-01-03-CentOS-7-使用-Docker-快速搭建-LNMP-环境.json","keywords":null,"cover":null,"content":"<h2 id=\"Docker-安装\"><a href=\"#Docker-安装\" class=\"headerlink\" title=\"Docker 安装\"></a>Docker 安装</h2><h3 id=\"安装-Docker\"><a href=\"#安装-Docker\" class=\"headerlink\" title=\"安装 Docker\"></a>安装 Docker</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">curl -fsSL https:&#x2F;&#x2F;get.docker.com | bash -s docker --mirror Aliyun</code></pre>\n\n<h3 id=\"配置国内镜像\"><a href=\"#配置国内镜像\" class=\"headerlink\" title=\"配置国内镜像\"></a>配置国内镜像</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">mkdir -p &#x2F;etc&#x2F;docker\ncat &gt;&#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt; EOF\n&#123;\n  &quot;registry-mirrors&quot;: [\n      &quot;http:&#x2F;&#x2F;hub-mirror.c.163.com&quot;,\n      &quot;https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&quot;\n  ]\n&#125;\nEOF</code></pre>\n\n<h3 id=\"修改-Docker-持久化目录\"><a href=\"#修改-Docker-持久化目录\" class=\"headerlink\" title=\"修改 Docker 持久化目录\"></a>修改 Docker 持久化目录</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">test -d &#x2F;var&#x2F;lib&#x2F;docker &amp;&amp; \\\n    mv &#x2F;var&#x2F;lib&#x2F;docker &#x2F;var&#x2F;lib&#x2F;docker_backup &amp;&amp; \\\n    mkdir -p &#x2F;data&#x2F;docker &amp;&amp; \\\n    ln -sf &#x2F;data&#x2F;docker &#x2F;var&#x2F;lib&#x2F;docker</code></pre>\n\n<h3 id=\"创建-Docker-工作组\"><a href=\"#创建-Docker-工作组\" class=\"headerlink\" title=\"创建 Docker 工作组\"></a>创建 Docker 工作组</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">groupadd docker</code></pre>\n\n<h3 id=\"添加用户到-Docker-工作组\"><a href=\"#添加用户到-Docker-工作组\" class=\"headerlink\" title=\"添加用户到 Docker 工作组\"></a>添加用户到 Docker 工作组</h3><p>Docker 默认只能通过 root 权限执行操作， 但通过将用户添加到 <code>docker</code> 用户组可以规避这一点：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">gpasswd -a $&#123;USER&#125; docker\n## or\nusermod -aG docker $&#123;USER&#125;</code></pre>\n\n<h3 id=\"启动-Docker-并加入开机启动项\"><a href=\"#启动-Docker-并加入开机启动项\" class=\"headerlink\" title=\"启动 Docker 并加入开机启动项\"></a>启动 Docker 并加入开机启动项</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl daemon-reload\nsystemctl start docker\nsystemctl enable docker</code></pre>\n\n<h3 id=\"安装校验\"><a href=\"#安装校验\" class=\"headerlink\" title=\"安装校验\"></a>安装校验</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker version</code></pre>\n\n<h2 id=\"安装-LNMP\"><a href=\"#安装-LNMP\" class=\"headerlink\" title=\"安装 LNMP\"></a>安装 LNMP</h2><h3 id=\"搜索镜像\"><a href=\"#搜索镜像\" class=\"headerlink\" title=\"搜索镜像\"></a>搜索镜像</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker search lnmp</code></pre>\n\n<h3 id=\"拉取镜像\"><a href=\"#拉取镜像\" class=\"headerlink\" title=\"拉取镜像\"></a>拉取镜像</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker pull 2233466866&#x2F;lnmp:latest</code></pre>\n\n<h3 id=\"创建相关目录\"><a href=\"#创建相关目录\" class=\"headerlink\" title=\"创建相关目录\"></a>创建相关目录</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">mkdir -p &#x2F;app&#x2F;lnmp&#x2F;default &#x2F;docker&#x2F;lnmp&#x2F;\ncd &#x2F;docker&#x2F;lnmp&#x2F;\nmkdir -p data&#x2F;mysql conf&#x2F;vhost\nmkdir logs backup temp</code></pre>\n\n<h3 id=\"创建相关文件\"><a href=\"#创建相关文件\" class=\"headerlink\" title=\"创建相关文件\"></a>创建相关文件</h3><p>Nginx/MySQL/PHP 配置文件根据自己情况修改。</p>\n<h4 id=\"Nginx-配置文件\"><a href=\"#Nginx-配置文件\" class=\"headerlink\" title=\"Nginx 配置文件\"></a>Nginx 配置文件</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cat &gt;&#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;nginx.conf &lt;&lt;EOF\nuser                    www;\nworker_processes        auto;\nworker_cpu_affinity     auto;\npid                     logs&#x2F;nginx.pid;\n\nevents &#123;\n    worker_connections  102400;\n&#125;\n\nhttp &#123;\n    charset             utf-8;\n    server_tokens       off;\n\n    log_format  main    &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;\n                        &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;\n                        &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;\n\n    include             mime.types;\n    default_type        application&#x2F;octet-stream;\n\n    client_max_body_size 20M;\n\n    sendfile            on;\n    keepalive_timeout   20;\n\n    gzip                on;\n    gzip_vary           on;\n    gzip_comp_level     1;\n    gzip_types          text&#x2F;css application&#x2F;javascript application&#x2F;json image&#x2F;png image&#x2F;webp image&#x2F;apng image&#x2F;jpeg image&#x2F;x-icon;\n\n    error_log           &#x2F;www&#x2F;z_error.log;\n    access_log          &#x2F;www&#x2F;z_$host.log main;\n\n    server &#123;\n        listen 443 ssl http2;\n        server_name www.test.com;\n        root        &#x2F;www;\n\n        # SSL 配置......\n\n        # Allow large attachments\n        client_max_body_size 128M;\n\n        location &#x2F; &#123;\n            index   index.php index.html index.htm;\n            proxy_pass http:&#x2F;&#x2F;127.0.0.1:8080;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        &#125;\n\n        location ~* \\.php &#123;\n            include                 fastcgi_params;\n            fastcgi_index           index.php;\n            fastcgi_pass            127.0.0.1:9000;\n            fastcgi_split_path_info ^(.+\\.php)(.*)$;\n            fastcgi_param           PATH_INFO       $fastcgi_path_info;\n            fastcgi_param           SCRIPT_NAME     $fastcgi_script_name;\n            fastcgi_param           SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        &#125;\n    &#125;\n&#125;\nEOF</code></pre>\n\n<h4 id=\"MySQL-配置文件\"><a href=\"#MySQL-配置文件\" class=\"headerlink\" title=\"MySQL 配置文件\"></a>MySQL 配置文件</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cat &gt;&#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;my.cnf &lt;&lt;EOF\n[mysqld]\ndatadir&#x3D;&#x2F;data&#x2F;mysql\nsocket&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql.sock\nsymbolic-links&#x3D;0\nlog-error&#x3D;&#x2F;var&#x2F;log&#x2F;mysqld.log\npid-file&#x3D;&#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.pid\nEOF</code></pre>\n\n<h4 id=\"PHP-配置文件\"><a href=\"#PHP-配置文件\" class=\"headerlink\" title=\"PHP 配置文件\"></a>PHP 配置文件</h4><p>配置文件太大就不贴了，直接下载然后本地修改吧。不会使用 vim 的使用 sed 命令进行替换。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">wget -N https:&#x2F;&#x2F;pic.ryanjie.cn&#x2F;docker&#x2F;lnmp&#x2F;php.ini -O &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;php.ini\nwget -N https:&#x2F;&#x2F;pic.ryanjie.cn&#x2F;docker&#x2F;lnmp&#x2F;php-fpm.conf -O &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;php-fpm.conf\n## 上面两个文件也可以\nwget -N https:&#x2F;&#x2F;pic.ryanjie.cn&#x2F;docker&#x2F;lnmp&#x2F;nginx.conf -O &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;nginx.conf\nwget -N https:&#x2F;&#x2F;pic.ryanjie.cn&#x2F;docker&#x2F;lnmp&#x2F;my.cnf -O &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;my.cnf</code></pre>\n\n<h3 id=\"备份配置文件\"><a href=\"#备份配置文件\" class=\"headerlink\" title=\"备份配置文件\"></a>备份配置文件</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cp conf&#x2F;* backup&#x2F;</code></pre>\n\n<h3 id=\"创建自定义网络-lnmp\"><a href=\"#创建自定义网络-lnmp\" class=\"headerlink\" title=\"创建自定义网络 lnmp\"></a>创建自定义网络 lnmp</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker network create lnmp\n9d4d47ee3b875cdadf7300182f5de43523efdd0aaecbe37a79ed2cdc75feb777\n$ docker network  ls\nNETWORK ID     NAME      DRIVER    SCOPE\n545f4bdc894a   bridge    bridge    local\n753524bb4716   host      host      local\n9d4d47ee3b87   lnmp      bridge    local\n8623643804ac   none      null      local</code></pre>\n\n<h3 id=\"启动容器\"><a href=\"#启动容器\" class=\"headerlink\" title=\"启动容器\"></a>启动容器</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">docker run -dit \\\n-p 8080:80 \\\n-p 443:443 \\\n-p 3306:3306 \\\n-p 9000:9000 \\\n-e TC&#x3D;&quot;Asia&#x2F;Shanghai&quot; \\\n-v &#x2F;sys&#x2F;fs&#x2F;cgroup:&#x2F;sys&#x2F;fs&#x2F;cgroup:ro \\\n-v &#x2F;app&#x2F;lnmp:&#x2F;www \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;nginx.conf:&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;vhost:&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;vhost \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;data&#x2F;mysql:&#x2F;data&#x2F;mysql \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;my.cnf:&#x2F;etc&#x2F;my.cnf \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;php.ini:&#x2F;usr&#x2F;local&#x2F;php7&#x2F;lib&#x2F;php.ini \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;conf&#x2F;php-fpm.conf:&#x2F;usr&#x2F;local&#x2F;php7&#x2F;etc&#x2F;php-fpm.conf \\\n-v &#x2F;docker&#x2F;lnmp&#x2F;logs:&#x2F;logs \\\n--restart&#x3D;always \\\n--net lnmp \\\n--privileged&#x3D;true \\\n--name&#x3D;mylnmp \\\n2233466866&#x2F;lnmp:latest</code></pre>\n\n<h3 id=\"连接容器\"><a href=\"#连接容器\" class=\"headerlink\" title=\"连接容器\"></a>连接容器</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 容器名称与上一步保持一致\ndocker exec -it lnmp &#x2F;bin&#x2F;bash</code></pre>\n\n<h2 id=\"配置-LNMP\"><a href=\"#配置-LNMP\" class=\"headerlink\" title=\"配置 LNMP\"></a>配置 LNMP</h2><h3 id=\"检查-Nginx-MySQL-PHP-状态\"><a href=\"#检查-Nginx-MySQL-PHP-状态\" class=\"headerlink\" title=\"检查 Nginx/MySQL/PHP 状态\"></a>检查 Nginx/MySQL/PHP 状态</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ps aux|grep nginx\nps aux|grep mysql\nps aux|grep php-fpm\n# 或者(Or)\nsystemctl status nginx\nsystemctl status mysqld\nsystemctl status php7</code></pre>\n\n<h3 id=\"初始密码-Default-password\"><a href=\"#初始密码-Default-password\" class=\"headerlink\" title=\"初始密码(Default password)\"></a>初始密码(Default password)</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">cat &#x2F;var&#x2F;log&#x2F;mysqld.log|grep &#39;A temporary password&#39;\n# 或\npassword&#x3D;&#96;cat &#x2F;var&#x2F;log&#x2F;mysqld.log|grep &#39;A temporary password&#39;&#96;;password&#x3D;$&#123;password:91&#125;;echo $password</code></pre>\n\n<h3 id=\"初始化-initialize\"><a href=\"#初始化-initialize\" class=\"headerlink\" title=\"初始化(initialize)\"></a>初始化(initialize)</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 请及时修改Mysql的密码(默认并未重置密码和初始化)\npassword&#x3D;&#96;cat &#x2F;var&#x2F;log&#x2F;mysqld.log|grep &#39;A temporary password&#39;&#96;\npassword&#x3D;$&#123;password:91&#125;\necho -e &quot;$&#123;password&#125;\\n$&#123;password&#125;\\n$&#123;password&#125;\\nn\\ny\\ny\\ny\\ny\\n&quot;\n# 以上三条命令的输出为以下命令的输入\nmysql_secure_installation</code></pre>\n\n<h3 id=\"PHP-扩展-PHP-extension\"><a href=\"#PHP-扩展-PHP-extension\" class=\"headerlink\" title=\"PHP 扩展(PHP extension)\"></a>PHP 扩展(PHP extension)</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 默认已安装部分扩展在目录：&#x2F;usr&#x2F;local&#x2F;php7&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;no-debug-non-zts-20170718&#x2F;\n# 如果要启用指定扩展，则需要修改php.ini，加上\nextension&#x3D;xxx.so\n# xxx为PHP扩展的文件名，然后重启php\nsystemctl restart php7</code></pre>\n\n<h3 id=\"版本-Version\"><a href=\"#版本-Version\" class=\"headerlink\" title=\"版本(Version)\"></a>版本(Version)</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 各版本详细信息请参考\nhttps:&#x2F;&#x2F;github.com&#x2F;2233466866&#x2F;lnmp&#x2F;wiki</code></pre>\n\n<h2 id=\"推送镜像\"><a href=\"#推送镜像\" class=\"headerlink\" title=\"推送镜像\"></a>推送镜像</h2><p>这里使用 Ucloud 的 <a href=\"https://docs.ucloud.cn/uhub/README?id=\"><strong>公共镜像库 UHub</strong></a>。UHub 是一种 UCloud 推出的免费的公共镜像库服务。</p>\n<ol>\n<li><p>登录镜像仓库。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker login uhub.service.ucloud.cn -u ryan@gmail.com</code></pre></li>\n<li><p>本地对镜像打 <code>tag</code>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker tag 2233466866&#x2F;lnmp:latest uhub.service.ucloud.cn&#x2F;kongren&#x2F;2233466866&#x2F;lnmp:0.0.1</code></pre></li>\n<li><p>提交镜像到仓库:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ docker push uhub.service.ucloud.cn&#x2F;kongren&#x2F;2233466866&#x2F;lnmp:0.0.1</code></pre></li>\n</ol>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li><a href=\"https://github.com/2233466866/lnmp/wiki\">2233466866/lnmp Wiki</a></li>\n</ul>\n","text":"Docker 安装安装 Dockercurl -fsSL https:&#x2F;&#x2F;get.docker.com | bash -s docker --mirror Aliyun 配置国内镜像mkdir -p &#x2F;etc&#x2F;docker cat &gt;...","link":"","photos":[],"count_time":{"symbolsCount":"7.2k","symbolsTime":"7 mins."},"categories":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/categories/CentOS.json"}],"tags":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/tags/CentOS.json"},{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"},{"name":"LNMP","slug":"LNMP","count":1,"path":"api/tags/LNMP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Docker-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">Docker 安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-Docker\"><span class=\"toc-text\">安装 Docker</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">配置国内镜像</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9-Docker-%E6%8C%81%E4%B9%85%E5%8C%96%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">修改 Docker 持久化目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA-Docker-%E5%B7%A5%E4%BD%9C%E7%BB%84\"><span class=\"toc-text\">创建 Docker 工作组</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0-Docker-%E5%B7%A5%E4%BD%9C%E7%BB%84\"><span class=\"toc-text\">添加用户到 Docker 工作组</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8-Docker-%E5%B9%B6%E5%8A%A0%E5%85%A5%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9\"><span class=\"toc-text\">启动 Docker 并加入开机启动项</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E6%A0%A1%E9%AA%8C\"><span class=\"toc-text\">安装校验</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-LNMP\"><span class=\"toc-text\">安装 LNMP</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%90%9C%E7%B4%A2%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">搜索镜像</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">拉取镜像</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E7%9B%B8%E5%85%B3%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">创建相关目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">创建相关文件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Nginx-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">Nginx 配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#MySQL-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">MySQL 配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#PHP-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">PHP 配置文件</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A4%87%E4%BB%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">备份配置文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C-lnmp\"><span class=\"toc-text\">创建自定义网络 lnmp</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">启动容器</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">连接容器</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE-LNMP\"><span class=\"toc-text\">配置 LNMP</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A3%80%E6%9F%A5-Nginx-MySQL-PHP-%E7%8A%B6%E6%80%81\"><span class=\"toc-text\">检查 Nginx&#x2F;MySQL&#x2F;PHP 状态</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B%E5%AF%86%E7%A0%81-Default-password\"><span class=\"toc-text\">初始密码(Default password)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96-initialize\"><span class=\"toc-text\">初始化(initialize)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#PHP-%E6%89%A9%E5%B1%95-PHP-extension\"><span class=\"toc-text\">PHP 扩展(PHP extension)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%88%E6%9C%AC-Version\"><span class=\"toc-text\">版本(Version)</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%A8%E9%80%81%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">推送镜像</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83\"><span class=\"toc-text\">参考</span></a></li></ol>","author":{"name":"JaimeZeng","slug":"blog-author","avatar":"/icon/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"1CPU/2G内存/2M带宽/上海/快杰云服务器测评","uid":"f1e69ca9b60dbe07c2a3003d1cda5a96","slug":"2021-01-05-1CPU2G内存2M带宽上海快杰云服务器测评","date":"2021-01-05T11:25:26.000Z","updated":"2021-08-28T16:49:26.490Z","comments":true,"path":"api/articles/2021-01-05-1CPU2G内存2M带宽上海快杰云服务器测评.json","keywords":null,"cover":[],"text":" 目录 系统配置 磁盘 IO 测试 DD 测试 IOPing 测试 FIO 测试 网络带宽测试 网络延迟测试 网络丢包测试 Benchmarks 性能测试 SysBench 压力测试 CPU 压力测试 内存压力测试 Geekbench 处理器内存测试 云服务器配置： 型号 : 快...","link":"","photos":[],"count_time":{"symbolsCount":"25k","symbolsTime":"23 mins."},"categories":[{"name":"主机测评","slug":"主机测评","count":1,"path":"api/categories/主机测评.json"}],"tags":[{"name":"UCloud","slug":"UCloud","count":3,"path":"api/tags/UCloud.json"},{"name":"主机测评","slug":"主机测评","count":1,"path":"api/tags/主机测评.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"/icon/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"使用 GitHub Action 每天自动签到领取 UCloud 社区积分","uid":"410e5617732351033c2107ab8a0a20b0","slug":"2020-12-27-使用-GitHub-Action-每天自动签到领取-UCloud-社区积分","date":"2020-12-27T14:06:38.000Z","updated":"2021-08-28T16:49:26.490Z","comments":true,"path":"api/articles/2020-12-27-使用-GitHub-Action-每天自动签到领取-UCloud-社区积分.json","keywords":null,"cover":[],"text":" 目录 特点 已实现 TODO 使用方法 参数配置 运行签到 Action 定时任务 签到信息推送 常见问题 关于定时任务不执行 TGBot 推送相关参数获取 Fork 之后如何同步原作者的更新内容 方式一： 保留自己内容 方式二： 源作者内容直接覆盖自己内容 感谢 Licens...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"GitHub Action","slug":"GitHub-Action","count":1,"path":"api/categories/GitHub-Action.json"}],"tags":[{"name":"UCloud","slug":"UCloud","count":3,"path":"api/tags/UCloud.json"},{"name":"GitHub Action","slug":"GitHub-Action","count":1,"path":"api/tags/GitHub-Action.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"/icon/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}