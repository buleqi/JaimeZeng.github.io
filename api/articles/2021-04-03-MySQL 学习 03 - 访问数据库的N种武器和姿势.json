{"title":"访问数据库的N种武器和姿势","uid":"1238394f397c282c8b01fc45805c9200","slug":"2021-04-03-MySQL 学习 03 - 访问数据库的N种武器和姿势","date":"2021-04-03T06:02:10.000Z","updated":"2021-09-26T10:10:40.949Z","comments":true,"path":"api/articles/2021-04-03-MySQL 学习 03 - 访问数据库的N种武器和姿势.json","keywords":null,"cover":null,"content":"<h2 id=\"使用命令行工具访问\"><a href=\"#使用命令行工具访问\" class=\"headerlink\" title=\"使用命令行工具访问\"></a>使用命令行工具访问</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">[root@Jaime ~]# mysql -uroot -proot -hlocalhost\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 9\nServer version: 8.0.24 MySQL Community Server - GPL\n\nCopyright (c) 2000, 2021, Oracle and&#x2F;or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and&#x2F;or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.\n\nmysql&gt; select user();\n+----------------+\n| user()         |\n+----------------+\n| root@localhost |\n+----------------+\n1 row in set (0.01 sec)\n\nmysql&gt; ^DBye</code></pre>\n\n<p>或者直接在终端中执行，不进入mysql命令行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">[root@Jaime ~]# mysql -uroot -proot -hlocalhost -e&quot;select user();&quot;\nmysql: [Warning] Using a password on the command line interface can be insecure.\n+----------------+\n| user()         |\n+----------------+\n| root@localhost |\n+----------------+</code></pre>\n\n<h2 id=\"使用图形化工具访问\"><a href=\"#使用图形化工具访问\" class=\"headerlink\" title=\"使用图形化工具访问\"></a>使用图形化工具访问</h2><h3 id=\"使用-Navicat-访问-MySQL\"><a href=\"#使用-Navicat-访问-MySQL\" class=\"headerlink\" title=\"使用 Navicat 访问 MySQL\"></a>使用 Navicat 访问 MySQL</h3><p><a href=\"https://www.cnblogs.com/bfz50/p/9717419.html\">【mysql】使用Navicat连接数据库 - 50% - 博客园</a></p>\n<h3 id=\"使用-DBeaver-访问-MySQL\"><a href=\"#使用-DBeaver-访问-MySQL\" class=\"headerlink\" title=\"使用 DBeaver 访问 MySQL\"></a>使用 DBeaver 访问 MySQL</h3><p><a href=\"https://blog.csdn.net/qq_38967136/article/details/87896109\">DBeaver连接MySQL_wwagyun的博客-CSDN博客</a></p>\n<h3 id=\"使用-DataGrip-访问-MySQL\"><a href=\"#使用-DataGrip-访问-MySQL\" class=\"headerlink\" title=\"使用 DataGrip 访问 MySQL\"></a>使用 DataGrip 访问 MySQL</h3><p><a href=\"https://blog.csdn.net/weixin_45485719/article/details/104889938\">使用DataGrip连接MySQL 及问题解决_ruokeqx-CSDN博客</a></p>\n<h2 id=\"使用-Java-操作-MySQL\"><a href=\"#使用-Java-操作-MySQL\" class=\"headerlink\" title=\"使用 Java 操作 MySQL\"></a>使用 Java 操作 MySQL</h2><pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;8.0.11&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;</code></pre>\n\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">&#x2F;&#x2F; Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\nClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\nConnection conn &#x3D; DriverManager.getConnection(&quot;jdbc:mysql:&#x2F;&#x2F;localhost&#x2F;test_demo?useSSL&#x3D;false&amp;serverTimezone&#x3D;UTC&quot;,&quot;root&quot;, &quot;root&quot;);</code></pre>\n\n<h2 id=\"常见故障解决方法\"><a href=\"#常见故障解决方法\" class=\"headerlink\" title=\"常见故障解决方法\"></a>常见故障解决方法</h2><h3 id=\"1045-权限登录异常\"><a href=\"#1045-权限登录异常\" class=\"headerlink\" title=\"1045 权限登录异常\"></a>1045 权限登录异常</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">ERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)</code></pre>\n\n<ol>\n<li><p>确认密码是否正确。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&#x2F;&#x2F; 临时密码查看方法\n[root@Jaime ~]# grep password &#x2F;var&#x2F;log&#x2F;mysqld.log\n2021-04-24T08:17:33.945529Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: fYu.-wet4ao6\n[root@Jaime ~]# mysql -uroot -pfYu.-wet4ao6\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 8\nServer version: 8.0.24\n\nCopyright (c) 2000, 2021, Oracle and&#x2F;or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and&#x2F;or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.\n\nmysql&gt; alter user user() identified by &#39;686868&#39;;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; ^DBye</code></pre></li>\n<li><p>确认是否对 IP 的授权， % 不包括 localhost。</p>\n<ul>\n<li><p>通过 -h localhost登录数据库是使用UNIX socket进行登录。</p>\n</li>\n<li><p>通过 –h 127.0.0.1命令进行登录是使用TCP/IP协议进行登录。</p>\n</li>\n</ul>\n<p>修改 /etc/my.cnf数据库配置文件，在[mysqld]选项中添加：<code>skip-grant-tables</code>  </p>\n<p>使用安全模式登录mysql数据库： <code>mysql –u root –p</code> （输入密码直接按回车，登录成功）然后在 mysql.user 表中添加root@localhost登录权限。</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">-- sudo systemctl stop mysqld\n-- update mysql.user set Grant_priv&#x3D;&#39;Y&#39;,Super_priv&#x3D;&#39;Y&#39; where user&#x3D;&#39;root&#39;;\n-- flush privileges;\ngrant all on *.* to &#39;root&#39;@&#39;localhost&#39;;\n-- update mysql.user set password&#x3D;password(&#39;root&#39;) where user&#x3D;&#39;root&#39;;\nupdate mysql.user set password&#x3D;password(&#39;root&#39;) where user&#x3D;&#39;root&#39; and host&#x3D;&#39;localhost&#39;;\nflush privileges;\n-- sudo systemctl start mysqld</code></pre></li>\n<li><p>网络是否畅通。</p>\n</li>\n</ol>\n","text":"使用命令行工具访问[root@Jaime ~]# mysql -uroot -proot -hlocalhost mysql: [Warning] Using a password on the command line interface can be insecure. We...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"},{"name":"MySQL","slug":"SQL/MySQL","count":3,"path":"api/categories/SQL/MySQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"},{"name":"MySQL","slug":"MySQL","count":3,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">使用命令行工具访问</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">使用图形化工具访问</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-Navicat-%E8%AE%BF%E9%97%AE-MySQL\"><span class=\"toc-text\">使用 Navicat 访问 MySQL</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-DBeaver-%E8%AE%BF%E9%97%AE-MySQL\"><span class=\"toc-text\">使用 DBeaver 访问 MySQL</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-DataGrip-%E8%AE%BF%E9%97%AE-MySQL\"><span class=\"toc-text\">使用 DataGrip 访问 MySQL</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-Java-%E6%93%8D%E4%BD%9C-MySQL\"><span class=\"toc-text\">使用 Java 操作 MySQL</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E6%95%85%E9%9A%9C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">常见故障解决方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1045-%E6%9D%83%E9%99%90%E7%99%BB%E5%BD%95%E5%BC%82%E5%B8%B8\"><span class=\"toc-text\">1045 权限登录异常</span></a></li></ol></li></ol>","author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}},"mapped":true,"prev_post":{"title":"SQL 练习 01 - 查找最晚入职员工的所有信息","uid":"d0da3fc8ea123c08e8ebcabf8f0785a9","slug":"2021-04-09-SQL 练习 01 - 查找最晚入职员工的所有信息","date":"2021-04-09T11:25:04.000Z","updated":"2021-09-26T10:10:40.949Z","comments":true,"path":"api/articles/2021-04-09-SQL 练习 01 - 查找最晚入职员工的所有信息.json","keywords":null,"cover":null,"text":"题目 题目链接： 查找最晚入职员工的所有信息-牛客网 有一个员工 employees 表简况如下： mysql&gt; select * from employees; +--------+------------+------------+-----------+-------...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}},"next_post":{"title":"MySQL 学习 02 - 关于数据库设计","uid":"47bb9bb82bc12d18515960275e83a800","slug":"2021-04-02-MySQL 学习 02 - 关于数据库设计","date":"2021-04-02T10:25:23.000Z","updated":"2021-09-26T10:10:40.949Z","comments":true,"path":"api/articles/2021-04-02-MySQL 学习 02 - 关于数据库设计.json","keywords":null,"cover":null,"text":"数据库结构设计 业务分析 逻辑设计 数据类型 对象命名 建立库表 业务分析 课程属性：{主标题、副标题、方向、分类、难度、最新、最热、时长、简介、人数、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分} 课程列表属性：{章节、小节名、说明...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"16 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"},{"name":"MySQL","slug":"SQL/MySQL","count":3,"path":"api/categories/SQL/MySQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"},{"name":"MySQL","slug":"MySQL","count":3,"path":"api/tags/MySQL.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}}}