{"title":"WordPress 外链转内链避免权重流失","uid":"3fa42550f46070f8699a32769bdd3786","slug":"2020-12-20-WordPress-外链转内链避免权重流失","date":"2020-12-19T18:08:26.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-12-20-WordPress-外链转内链避免权重流失.json","keywords":null,"cover":[],"content":"<p>WordPress 外链转为内链，这样可以减少权重的流失或者隐藏某些推荐链接。实现方法有两种：安装插件实现或者直接使用代码实现。</p>\n<p><img src=\"https://img.zxj.guru/2020/12/wordpress-redirection-link.png\" alt=\"wordpress-redirection-link\"></p>\n<h2 id=\"重写外链\"><a href=\"#重写外链\" class=\"headerlink\" title=\"重写外链\"></a>重写外链</h2><h3 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h3><p>在后台插件安装界面搜索 <code>Anylink</code> 即可在线安装。插件配置时需注意：</p>\n<ul>\n<li>跳转目录名称：<code>go</code> 。应该与网站根目录下跳转页面文件夹名相同。</li>\n</ul>\n<p><img src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-imgbed/f49dad2b-31fa-41b9-b646-227518732604.png\" alt=\"imgbed.cn图床\"></p>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><h4 id=\"替换文章内容中的外链\"><a href=\"#替换文章内容中的外链\" class=\"headerlink\" title=\"替换文章内容中的外链\"></a>替换文章内容中的外链</h4><p>在主题目录下的 <code>functions.php</code> 新增如下函数，即可将文章中的外链替换为 <code>go</code> 跳转的形式：</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&#x2F;&#x2F;给外部链接加上跳转 https:&#x2F;&#x2F;zhang.ge&#x2F;4683.html\nadd_filter(&#39;the_content&#39;,&#39;the_content_nofollow&#39;,999);\nfunction the_content_nofollow($content)\n&#123;\n    preg_match_all(&#39;&#x2F;&lt;a(.*?)href&#x3D;&quot;(.*?)&quot;(.*?)&gt;&#x2F;&#39;,$content,$matches);\n    if($matches)&#123;\n        foreach($matches[2] as $val)&#123;\n            if(strpos($val,&#39;:&#x2F;&#x2F;&#39;)!&#x3D;&#x3D;false &amp;&amp; strpos($val,home_url())&#x3D;&#x3D;&#x3D;false &amp;&amp; !preg_match(&#39;&#x2F;\\.(jpg|jepg|png|ico|bmp|gif|tiff)&#x2F;i&#39;,$val))&#123;\n                $content&#x3D;str_replace(&quot;href&#x3D;\\&quot;$val\\&quot;&quot;, &quot;href&#x3D;\\&quot;&quot;.home_url().&quot;&#x2F;go&#x2F;?url&#x3D;$val\\&quot; &quot;,$content);\n            &#125;\n        &#125;\n    &#125;\n    return $content;\n&#125;</code></pre>\n\n<h4 id=\"替换评论者的链接\"><a href=\"#替换评论者的链接\" class=\"headerlink\" title=\"替换评论者的链接\"></a>替换评论者的链接</h4><p>在主题目录下的 <code>functions.php</code> 查找是否存在修改评论链接为新窗口 <code>commentauthor</code> 函数，如果存在则如下修改第 8 行，将 <code>$url</code> 修改为 <code>/go/?url=$url</code>，其实就是在前面新增一个 <code>go</code> 跳转。</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&#x2F;&#x2F;评论链接新窗口\nfunction commentauthor($comment_ID &#x3D; 0) &#123;\n    $url    &#x3D; get_comment_author_url( $comment_ID );\n    $author &#x3D; get_comment_author( $comment_ID );\n    if ( empty( $url ) || &#39;http:&#x2F;&#x2F;&#39; &#x3D;&#x3D; $url )\n        echo $author;\n    else\n        echo &quot;&lt;a href&#x3D;&#39;&quot;.home_url().&quot;&#x2F;go&#x2F;?url&#x3D;$url&#39; rel&#x3D;&#39;external nofollow&#39; target&#x3D;&#39;_blank&#39; class&#x3D;&#39;url&#39;&gt;$author&lt;&#x2F;a&gt;&quot;;\n&#125;</code></pre>\n\n<h2 id=\"新增跳转页面\"><a href=\"#新增跳转页面\" class=\"headerlink\" title=\"新增跳转页面\"></a>新增跳转页面</h2><p>在网站根目录新增一个文件夹，命名为 <code>go</code>，并在 <code>go</code> 文件夹下新增一个 <code>index.php</code>，内容如下：(一共<a href=\"https://jiea.lanzous.com/b01ttqr7a\"> 6 个模板</a>，可以在 <a href=\"https://files.ryanjie.vercel.app/go\">https://files.ryanjie.vercel.app/go</a> 页面预览)</p>\n<h3 id=\"模板-1\"><a href=\"#模板-1\" class=\"headerlink\" title=\"模板 1\"></a>模板 1</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-1.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&lt;!-- https:&#x2F;&#x2F;zhang.ge&#x2F;5086.html --&gt;\n&lt;?php\nif (\n    strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n) &#123;\n    @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n    @header(&quot;Status: 414 Request-URI Too Long&quot;);\n    @header(&quot;Connection: Close&quot;);\n    @exit;\n&#125;\n&#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n$t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n&#x2F;&#x2F;数据处理\nif (!empty($t_url)) &#123;\n    &#x2F;&#x2F;判断取值是否加密\n    if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n        $t_url &#x3D;  base64_decode($t_url);\n    &#125;\n    &#x2F;&#x2F;对取值进行网址校验和判断\n    preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n    if ($matches) &#123;\n        $url &#x3D; $t_url;\n        $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n    &#125; else &#123;\n        preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n        if ($matche) &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n            $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n        &#125;\n    &#125;\n&#125; else &#123;\n    $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n    $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n&#125;\n?&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n    &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n    &lt;noscript&gt;\n        &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n    &lt;script&gt;\n        function link_jump() &#123;\n            &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n            var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n            if (!MyHOST.test(document.referrer)) &#123;\n                location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n            &#125;\n            location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n        &#125;\n        &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n        setTimeout(link_jump, 500);\n        &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n        setTimeout(function() &#123;\n            window.opener &#x3D; null;\n            window.close();\n        &#125;, 50000);\n    &lt;&#x2F;script&gt;\n    &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;a, abbr, acronym, address, applet, article, aside, audio, b, big, blockquote, body, canvas, caption, center, cite, code, dd, del, details, dfn, div, dl, dt, em, embed, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hgroup, html, i, iframe, img, ins, kbd, label, legend, li, mark, menu, nav, object, ol, output, p, pre, q, ruby, s, samp, section, small, span, strike, strong, sub, summary, sup, table, tbody, td, tfoot, th, thead, time, tr, tt, u, ul, var, video &#123; margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline &#125; body &#123; background: #3498db &#125; #loader-container &#123; width: 188px; height: 188px; color: #fff; margin: 0 auto; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%); border: 5px solid #3498db; border-radius: 50%; -webkit-animation: borderScale 1s infinite ease-in-out; animation: borderScale 1s infinite ease-in-out &#125; #loadingText &#123; font-family: &quot;Microsoft YaHei&quot;, Helvetica, Arial, Lucida Grande, Tahoma, sans-serif, Raleway, sans-serif; font-size: 1.4em; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%) &#125; @-webkit-keyframes borderScale &#123; 0% &#123; border: 5px solid #fff &#125; 50% &#123; border: 25px solid #3498db &#125; 100% &#123; border: 5px solid #fff &#125; &#125; @keyframes borderScale &#123; 0% &#123; border: 5px solid #fff &#125; 50% &#123; border: 25px solid #3498db &#125; 100% &#123; border: 5px solid #fff &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div id&#x3D;&quot;loader-container&quot;&gt;\n      &lt;p id&#x3D;&quot;loadingText&quot;&gt;页面加载中...&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h3 id=\"模板-2\"><a href=\"#模板-2\" class=\"headerlink\" title=\"模板 2\"></a>模板 2</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-2.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&lt;?php\nif (\n    strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n) &#123;\n    @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n    @header(&quot;Status: 414 Request-URI Too Long&quot;);\n    @header(&quot;Connection: Close&quot;);\n    @exit;\n&#125;\n&#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n$t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n&#x2F;&#x2F;数据处理\nif (!empty($t_url)) &#123;\n    &#x2F;&#x2F;判断取值是否加密\n    if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n        $t_url &#x3D;  base64_decode($t_url);\n    &#125;\n    &#x2F;&#x2F;对取值进行网址校验和判断\n    preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n    if ($matches) &#123;\n        $url &#x3D; $t_url;\n        $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n    &#125; else &#123;\n        preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n        if ($matche) &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n            $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n        &#125;\n    &#125;\n&#125; else &#123;\n    $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n    $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n&#125;\n?&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n    &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n    &lt;noscript&gt;\n        &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n    &lt;script&gt;\n        function link_jump() &#123;\n            &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n            var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n            if (!MyHOST.test(document.referrer)) &#123;\n                location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n            &#125;\n            location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n        &#125;\n        &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n        setTimeout(link_jump, 500);\n        &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n        setTimeout(function() &#123;\n            window.opener &#x3D; null;\n            window.close();\n        &#125;, 50000);\n    &lt;&#x2F;script&gt;\n    &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;body &#123; background: #555 &#125; .loading &#123; -webkit-animation: fadein 2s; -moz-animation: fadein 2s; -o-animation: fadein 2s; animation: fadein 2s &#125; @-moz-keyframes fadein &#123; from &#123; opacity: 0 &#125; to &#123; opacity: 1 &#125; &#125; @-webkit-keyframes fadein &#123; from &#123; opacity: 0 &#125; to &#123; opacity: 1 &#125; &#125; @-o-keyframes fadein &#123; from &#123; opacity: 0 &#125; to &#123; opacity: 1 &#125; &#125; @keyframes fadein &#123; from &#123; opacity: 0 &#125; to &#123; opacity: 1 &#125; &#125; .spinner-wrapper &#123; position: absolute; top: 0; left: 0; z-index: 300; height: 100%; min-width: 100%; min-height: 100%; background: rgba(255, 255, 255, 0.93) &#125; .spinner-text &#123; position: absolute; top: 45%; left: 50%; margin-left: -100px; margin-top: 2px; color: #000; letter-spacing: 1px; font-size: 20px; font-family: Arial &#125; .spinner &#123; position: absolute; top: 45%; left: 50%; display: block; margin-left: -160px; width: 1px; height: 1px; border: 20px solid rgba(255, 0, 0, 1); -webkit-border-radius: 50px; -moz-border-radius: 50px; border-radius: 50px; border-left-color: transparent; border-right-color: transparent; -webkit-animation: spin 1.5s infinite; -moz-animation: spin 1.5s infinite; animation: spin 1.5s infinite &#125; @-webkit-keyframes spin &#123; 0%, 100% &#123; -webkit-transform: rotate(0deg) scale(1) &#125; 50% &#123; -webkit-transform: rotate(720deg) scale(0.6) &#125; &#125; @-moz-keyframes spin &#123; 0%, 100% &#123; -moz-transform: rotate(0deg) scale(1) &#125; 50% &#123; -moz-transform: rotate(720deg) scale(0.6) &#125; &#125; @-o-keyframes spin &#123; 0%, 100% &#123; -o-transform: rotate(0deg) scale(1) &#125; 50% &#123; -o-transform: rotate(720deg) scale(0.6) &#125; &#125; @keyframes spin &#123; 0%, 100% &#123; transform: rotate(0deg) scale(1) &#125; 50% &#123; transform: rotate(720deg) scale(0.6) &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div class&#x3D;&quot;loading&quot;&gt;\n      &lt;div class&#x3D;&quot;spinner-wrapper&quot;&gt;\n        &lt;span class&#x3D;&quot;spinner-text&quot;&gt;页面加载中，请稍候...&lt;&#x2F;span&gt;\n        &lt;span class&#x3D;&quot;spinner&quot;&gt;&lt;&#x2F;span&gt;\n      &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h3 id=\"模板-3\"><a href=\"#模板-3\" class=\"headerlink\" title=\"模板 3\"></a>模板 3</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-3.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">    &lt;?php\n    if (\n        strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n        strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n        strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n    ) &#123;\n        @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n        @header(&quot;Status: 414 Request-URI Too Long&quot;);\n        @header(&quot;Connection: Close&quot;);\n        @exit;\n    &#125;\n    &#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n    $t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n    &#x2F;&#x2F;数据处理\n    if (!empty($t_url)) &#123;\n        &#x2F;&#x2F;判断取值是否加密\n        if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n            $t_url &#x3D;  base64_decode($t_url);\n        &#125;\n        &#x2F;&#x2F;对取值进行网址校验和判断\n        preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n        if ($matches) &#123;\n            $url &#x3D; $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n            if ($matche) &#123;\n                $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n                $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n            &#125; else &#123;\n                $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n                $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n            &#125;\n        &#125;\n    &#125; else &#123;\n        $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n        $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n    &#125;\n    ?&gt;\n    &lt;html&gt;\n\n    &lt;head&gt;\n        &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n        &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n        &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n        &lt;noscript&gt;\n            &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n        &lt;script&gt;\n            function link_jump() &#123;\n                &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n                var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n                if (!MyHOST.test(document.referrer)) &#123;\n                    location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n                &#125;\n                location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n            &#125;\n            &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n            setTimeout(link_jump, 500);\n            &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n            setTimeout(function() &#123;\n                window.opener &#x3D; null;\n                window.close();\n            &#125;, 50000);\n        &lt;&#x2F;script&gt;\n        &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n        &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;a &#123; background: #13a3a5; padding: 5px; margin: 10px; display: block; cursor: pointer; font-size: 1.5em; float: left; text-decoration: none; font-size: 18px; color: #fff &#125; a, body &#123; font-weight: 100 &#125; body &#123; -webkit-tap-highlight-color: transparent; background-color: #222428; font-size: 100%; font-family: Open Sans; height: 100% &#125; .loader &#123; top: 50%; left: 50%; -webkit-transform: translate(-50%, -50%); -mos-transform: translate(-50%, -50%); transform: translate(-50%, -50%); text-align: center; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: default; width: 80%; overflow: visible &#125; .loader, .loader div &#123; position: absolute; height: 36px &#125; .loader div &#123; width: 30px; margin: 0 10px; opacity: 0; animation: move 2s linear infinite; -o-animation: move 2s linear infinite; -moz-animation: move 2s linear infinite; -webkit-animation: move 2s linear infinite; transform: rotate(180deg); -o-transform: rotate(180deg); -moz-transform: rotate(180deg); -webkit-transform: rotate(180deg); color: #fff; font-size: 3em &#125; .loader div:nth-child(8):before &#123; background: #db2f00 &#125; .loader div:nth-child(8):before, .loader div:nth-child(9):before &#123; content: &#39;&#39;; position: absolute; bottom: -15px; left: 0; width: 30px; height: 30px; border-radius: 100% &#125; .loader div:nth-child(9):before &#123; background: #f2f2f2 &#125; .loader div:nth-child(10):before &#123; bottom: -15px; height: 30px; background: #13a3a5 &#125; .loader div:after, .loader div:nth-child(10):before &#123; content: &#39;&#39;; position: absolute; left: 0; width: 30px; border-radius: 100% &#125; .loader div:after &#123; bottom: -40px; height: 5px; background: #39312d &#125; .loader div:nth-child(2) &#123; animation-delay: .2s; -o-animation-delay: .2s; -moz-animation-delay: .2s; -webkit-animation-delay: .2s &#125; .loader div:nth-child(3) &#123; animation-delay: .4s; -o-animation-delay: .4s; -webkit-animation-delay: .4s &#125; .loader div:nth-child(4) &#123; animation-delay: .6s; -o-animation-delay: .6s; -moz-animation-delay: .6s; -webkit-animation-delay: .6s &#125; .loader div:nth-child(5) &#123; animation-delay: .8s; -o-animation-delay: .8s; -moz-animation-delay: .8s; -webkit-animation-delay: .8s &#125; .loader div:nth-child(6) &#123; animation-delay: 1s; -o-animation-delay: 1s; -moz-animation-delay: 1s; -webkit-animation-delay: 1s &#125; .loader div:nth-child(7) &#123; animation-delay: 1.2s; -o-animation-delay: 1.2s; -moz-animation-delay: 1.2s; -webkit-animation-delay: 1.2s &#125; .loader div:nth-child(8) &#123; animation-delay: 1.4s; -o-animation-delay: 1.4s; -moz-animation-delay: 1.4s; -webkit-animation-delay: 1.4s &#125; .loader div:nth-child(9) &#123; animation-delay: 1.6s; -o-animation-delay: 1.6s; -moz-animation-delay: 1.6s; -webkit-animation-delay: 1.6s &#125; .loader div:nth-child(10) &#123; animation-delay: 1.8s; -o-animation-delay: 1.8s; -moz-animation-delay: 1.8s; -webkit-animation-delay: 1.8s &#125; @keyframes move &#123; 0% &#123; right: 0; opacity: 0 &#125; 35% &#123; right: 41% &#125; 35%, 65% &#123; -webkit-transform: rotate(0); transform: rotate(0); opacity: 1 &#125; 65% &#123; right: 59% &#125; to &#123; right: 100%; -webkit-transform: rotate(-180deg); transform: rotate(-180deg) &#125; &#125; @-webkit-keyframes move &#123; 0%, to &#123; opacity: 0 &#125; 0% &#123; right: 0 &#125; 35% &#123; right: 41% &#125; 35%, 75% &#123; -webkit-transform: rotate(0); transform: rotate(0); opacity: 1 &#125; 75% &#123; right: 59% &#125; to &#123; right: 100%; -webkit-transform: rotate(-180deg); transform: rotate(-180deg); opacity: 0 &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body class&#x3D;&quot;ie8&quot; style&#x3D;&quot;&quot;&gt;\n    &lt;div class&#x3D;&quot;loader&quot;&gt;\n      &lt;div&gt;L&lt;&#x2F;div&gt;\n      &lt;div&gt;O&lt;&#x2F;div&gt;\n      &lt;div&gt;A&lt;&#x2F;div&gt;\n      &lt;div&gt;D&lt;&#x2F;div&gt;\n      &lt;div&gt;I&lt;&#x2F;div&gt;\n      &lt;div&gt;N&lt;&#x2F;div&gt;\n      &lt;div&gt;G&lt;&#x2F;div&gt;\n      &lt;div&gt;&lt;&#x2F;div&gt;\n      &lt;div&gt;&lt;&#x2F;div&gt;\n      &lt;div&gt;&lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h3 id=\"模板-4\"><a href=\"#模板-4\" class=\"headerlink\" title=\"模板 4\"></a>模板 4</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-4.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">    &lt;?php\n    if (\n        strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n        strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n        strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n    ) &#123;\n        @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n        @header(&quot;Status: 414 Request-URI Too Long&quot;);\n        @header(&quot;Connection: Close&quot;);\n        @exit;\n    &#125;\n    &#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n    $t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n    &#x2F;&#x2F;数据处理\n    if (!empty($t_url)) &#123;\n        &#x2F;&#x2F;判断取值是否加密\n        if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n            $t_url &#x3D;  base64_decode($t_url);\n        &#125;\n        &#x2F;&#x2F;对取值进行网址校验和判断\n        preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n        if ($matches) &#123;\n            $url &#x3D; $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n            if ($matche) &#123;\n                $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n                $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n            &#125; else &#123;\n                $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n                $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n            &#125;\n        &#125;\n    &#125; else &#123;\n        $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n        $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n    &#125;\n    ?&gt;\n    &lt;html&gt;\n\n    &lt;head&gt;\n        &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n        &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n        &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n        &lt;noscript&gt;\n            &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n        &lt;script&gt;\n            function link_jump() &#123;\n                &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n                var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n                if (!MyHOST.test(document.referrer)) &#123;\n                    location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n                &#125;\n                location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n            &#125;\n            &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n            setTimeout(link_jump, 500);\n            &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n            setTimeout(function() &#123;\n                window.opener &#x3D; null;\n                window.close();\n            &#125;, 50000);\n        &lt;&#x2F;script&gt;\n        &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n        &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;* &#123; margin: 0; padding: 0; border: 0 &#125; body, html &#123; min-height: 100% &#125; body &#123; background: radial-gradient(#eee, #444) &#125; .loader &#123; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto; width: 175px; height: 100px &#125; .loader span &#123; display: block; background: #ccc; width: 7px; height: 10%; border-radius: 14px; margin-right: 5px; float: left; margin-top: 25% &#125; .loader span:last-child &#123; margin-right: 0 &#125; .loader span:nth-child(1) &#123; animation: load 2.5s 1.4s infinite linear &#125; .loader span:nth-child(2) &#123; animation: load 2.5s 1.2s infinite linear &#125; .loader span:nth-child(3) &#123; animation: load 2.5s 1s infinite linear &#125; .loader span:nth-child(4) &#123; animation: load 2.5s .8s infinite linear &#125; .loader span:nth-child(5) &#123; animation: load 2.5s .6s infinite linear &#125; .loader span:nth-child(6) &#123; animation: load 2.5s .4s infinite linear &#125; .loader span:nth-child(7) &#123; animation: load 2.5s .2s infinite linear &#125; .loader span:nth-child(8) &#123; animation: load 2.5s 0s infinite linear &#125; .loader span:nth-child(9) &#123; animation: load 2.5s .2s infinite linear &#125; .loader span:nth-child(10) &#123; animation: load 2.5s .4s infinite linear &#125; .loader span:nth-child(11) &#123; animation: load 2.5s .6s infinite linear &#125; .loader span:nth-child(12) &#123; animation: load 2.5s .8s infinite linear &#125; .loader span:nth-child(13) &#123; animation: load 2.5s 1s infinite linear &#125; .loader span:nth-child(14) &#123; animation: load 2.5s 1.2s infinite linear &#125; .loader span:nth-child(15) &#123; animation: load 2.5s 1.4s infinite linear &#125; @keyframes load &#123; 0% &#123; background: #ccc; margin-top: 25%; height: 10% &#125; 50% &#123; background: #444; height: 100%; margin-top: 0 &#125; 100% &#123; background: #ccc; height: 10%; margin-top: 25% &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div class&#x3D;&quot;loader&quot;&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;span&gt;&lt;&#x2F;span&gt;\n    &lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h3 id=\"模板-5\"><a href=\"#模板-5\" class=\"headerlink\" title=\"模板 5\"></a>模板 5</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-5.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&lt;?php\nif (\n    strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n) &#123;\n    @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n    @header(&quot;Status: 414 Request-URI Too Long&quot;);\n    @header(&quot;Connection: Close&quot;);\n    @exit;\n&#125;\n&#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n$t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n&#x2F;&#x2F;数据处理\nif (!empty($t_url)) &#123;\n    &#x2F;&#x2F;判断取值是否加密\n    if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n        $t_url &#x3D;  base64_decode($t_url);\n    &#125;\n    &#x2F;&#x2F;对取值进行网址校验和判断\n    preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n    if ($matches) &#123;\n        $url &#x3D; $t_url;\n        $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n    &#125; else &#123;\n        preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n        if ($matche) &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n            $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n        &#125;\n    &#125;\n&#125; else &#123;\n    $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n    $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n&#125;\n?&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n    &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n    &lt;noscript&gt;\n        &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n    &lt;script&gt;\n        function link_jump() &#123;\n            &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n            var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n            if (!MyHOST.test(document.referrer)) &#123;\n                location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n            &#125;\n            location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n        &#125;\n        &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n        setTimeout(link_jump, 500);\n        &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n        setTimeout(function() &#123;\n            window.opener &#x3D; null;\n            window.close();\n        &#125;, 50000);\n    &lt;&#x2F;script&gt;\n    &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;html &#123; overflow: hidden &#125; html, html body &#123; height: 100%; min-height: 100% &#125; html body &#123; background: #222428; background-size: 163px; font: 14px&#x2F;21px Monaco, sans-serif; color: #999; font-smoothing: antialiased; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; text-size-adjust: 100% &#125; html body a, html body a:visited &#123; text-decoration: none; color: #ff805f &#125; html body h4 &#123; margin: 0; color: #666 &#125; .scene &#123; width: 100%; height: 100%; -webkit-perspective: 600; perspective: 600; display: flex; align-items: center; justify-content: center &#125; .scene svg &#123; width: 15pc; height: 15pc &#125; .dc-logo &#123; position: fixed; right: 10px; bottom: 10px &#125; .dc-logo:hover svg &#123; -webkit-transform-origin: 50% 50%; transform-origin: 50% 50%; -webkit-animation: arrow-spin 2.5s 0s cubic-bezier(0.165, 0.84, 0.44, 1) infinite; animation: arrow-spin 2.5s 0s cubic-bezier(0.165, 0.84, 0.44, 1) infinite &#125; .dc-logo:hover:hover:before &#123; content: &#39;\\2764&#39;; color: #00fffe; left: -70px &#125; .dc-logo:hover:hover:after, .dc-logo:hover:hover:before &#123; padding: 6px; font: 10px&#x2F;1 Monaco, sans-serif; font-size: 10px; text-transform: uppercase; position: absolute; top: -30px; white-space: nowrap; z-index: 20px; box-shadow: 0 0 4px #222; background: rgba(0, 0, 0, .4) &#125; .dc-logo:hover:hover:after &#123; content: &#39;Digital Craft&#39;; color: #6e6f71; right: 0; background-image: none &#125; @keyframes arrow-spin &#123; 50% &#123; -webkit-transform: rotateY(360deg); transform: rotateY(360deg) &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div class&#x3D;&quot;scene&quot;&gt;\n      &lt;svg version&#x3D;&quot;1.1&quot; id&#x3D;&quot;dc-spinner&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; x&#x3D;&quot;0px&quot; y&#x3D;&quot;0px&quot; width: &quot;38&quot; height: &quot;38&quot; viewbox&#x3D;&quot;0 0 38 38&quot; preserveaspectratio&#x3D;&quot;xMinYMin meet&quot;&gt;\n        &lt;text x&#x3D;&quot;14&quot; y&#x3D;&quot;21&quot; font-family&#x3D;&quot;Monaco&quot; font-size&#x3D;&quot;2px&quot; style&#x3D;&quot;letter-spacing:0.6&quot; fill&#x3D;&quot;grey&quot;&gt;LOADING\n          &lt;animate attributename&#x3D;&quot;opacity&quot; values&#x3D;&quot;0;1;0&quot; dur&#x3D;&quot;1.8s&quot; repeatcount&#x3D;&quot;indefinite&quot; &#x2F;&gt;&lt;&#x2F;text&gt;\n        &lt;path fill&#x3D;&quot;#373a42&quot; d&#x3D;&quot;M20,35c-8.271,0-15-6.729-15-15S11.729,5,20,5s15,6.729,15,15S28.271,35,20,35z M20,5.203 C11.841,5.203,5.203,11.841,5.203,20c0,8.159,6.638,14.797,14.797,14.797S34.797,28.159,34.797,20 C34.797,11.841,28.159,5.203,20,5.203z&quot;&gt;&lt;&#x2F;path&gt;\n        &lt;path fill&#x3D;&quot;#373a42&quot; d&#x3D;&quot;M20,33.125c-7.237,0-13.125-5.888-13.125-13.125S12.763,6.875,20,6.875S33.125,12.763,33.125,20 S27.237,33.125,20,33.125z M20,7.078C12.875,7.078,7.078,12.875,7.078,20c0,7.125,5.797,12.922,12.922,12.922 S32.922,27.125,32.922,20C32.922,12.875,27.125,7.078,20,7.078z&quot;&gt;&lt;&#x2F;path&gt;\n        &lt;path fill&#x3D;&quot;#2AA198&quot; stroke&#x3D;&quot;#2AA198&quot; stroke-width&#x3D;&quot;0.6027&quot; stroke-miterlimit&#x3D;&quot;10&quot; d&#x3D;&quot;M5.203,20 c0-8.159,6.638-14.797,14.797-14.797V5C11.729,5,5,11.729,5,20s6.729,15,15,15v-0.203C11.841,34.797,5.203,28.159,5.203,20z&quot;&gt;\n          &lt;animatetransform attributename&#x3D;&quot;transform&quot; type&#x3D;&quot;rotate&quot; from&#x3D;&quot;0 20 20&quot; to&#x3D;&quot;360 20 20&quot; calcmode&#x3D;&quot;spline&quot; keysplines&#x3D;&quot;0.4, 0, 0.2, 1&quot; keytimes&#x3D;&quot;0;1&quot; dur&#x3D;&quot;2s&quot; repeatcount&#x3D;&quot;indefinite&quot; &#x2F;&gt;&lt;&#x2F;path&gt;\n        &lt;path fill&#x3D;&quot;#859900&quot; stroke&#x3D;&quot;#859900&quot; stroke-width&#x3D;&quot;0.2027&quot; stroke-miterlimit&#x3D;&quot;10&quot; d&#x3D;&quot;M7.078,20 c0-7.125,5.797-12.922,12.922-12.922V6.875C12.763,6.875,6.875,12.763,6.875,20S12.763,33.125,20,33.125v-0.203 C12.875,32.922,7.078,27.125,7.078,20z&quot;&gt;\n          &lt;animatetransform attributename&#x3D;&quot;transform&quot; type&#x3D;&quot;rotate&quot; from&#x3D;&quot;0 20 20&quot; to&#x3D;&quot;360 20 20&quot; dur&#x3D;&quot;1.8s&quot; repeatcount&#x3D;&quot;indefinite&quot; &#x2F;&gt;&lt;&#x2F;path&gt;\n      &lt;&#x2F;svg&gt;\n    &lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h3 id=\"模板-6\"><a href=\"#模板-6\" class=\"headerlink\" title=\"模板 6\"></a>模板 6</h3><p>预览页面：<a href=\"https://files.ryanjie.vercel.app/go/go-6.html\">预览</a></p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&lt;?php\nif (\n    strlen($_SERVER[&#39;REQUEST_URI&#39;]) &gt; 384 ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;eval(&quot;) ||\n    strpos($_SERVER[&#39;REQUEST_URI&#39;], &quot;base64&quot;)\n) &#123;\n    @header(&quot;HTTP&#x2F;1.1 414 Request-URI Too Long&quot;);\n    @header(&quot;Status: 414 Request-URI Too Long&quot;);\n    @header(&quot;Connection: Close&quot;);\n    @exit;\n&#125;\n&#x2F;&#x2F;通过QUERY_STRING取得完整的传入数据，然后取得url&#x3D;之后的所有值，兼容性更好\n$t_url &#x3D; preg_replace(&#39;&#x2F;^url&#x3D;(.*)$&#x2F;i&#39;, &#39;$1&#39;, $_SERVER[&quot;QUERY_STRING&quot;]);\n\n&#x2F;&#x2F;数据处理\nif (!empty($t_url)) &#123;\n    &#x2F;&#x2F;判断取值是否加密\n    if ($t_url &#x3D;&#x3D; base64_encode(base64_decode($t_url))) &#123;\n        $t_url &#x3D;  base64_decode($t_url);\n    &#125;\n    &#x2F;&#x2F;对取值进行网址校验和判断\n    preg_match(&#39;&#x2F;^(http|https|thunder|qqdl|ed2k|Flashget|qbrowser):\\&#x2F;\\&#x2F;&#x2F;i&#39;, $t_url, $matches);\n    if ($matches) &#123;\n        $url &#x3D; $t_url;\n        $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n    &#125; else &#123;\n        preg_match(&#39;&#x2F;\\.&#x2F;i&#39;, $t_url, $matche);\n        if ($matche) &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $t_url;\n            $title &#x3D; &#39;页面加载中,请稍候...&#39;;\n        &#125; else &#123;\n            $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n            $title &#x3D; &#39;参数错误，正在返回首页...&#39;;\n        &#125;\n    &#125;\n&#125; else &#123;\n    $title &#x3D; &#39;参数缺失，正在返回首页...&#39;;\n    $url &#x3D; &#39;http:&#x2F;&#x2F;&#39; . $_SERVER[&#39;HTTP_HOST&#39;];\n&#125;\n?&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;\n    &lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;noindex, nofollow&quot; &#x2F;&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.baidu.com&#x2F;favicon.ico&quot;&gt;\n    &lt;noscript&gt;\n        &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;1;url&#x3D;&#39;&lt;?php echo $url; ?&gt;&#39;;&quot;&gt;&lt;&#x2F;noscript&gt;\n    &lt;script&gt;\n        function link_jump() &#123;\n            &#x2F;&#x2F;禁止其他网站使用我们的跳转页面\n            var MyHOST &#x3D; new RegExp(&quot;&lt;?php echo $_SERVER[&#39;HTTP_HOST&#39;]; ?&gt;&quot;);\n            if (!MyHOST.test(document.referrer)) &#123;\n                location.href &#x3D; &quot;http:&#x2F;&#x2F;&quot; + MyHOST;\n            &#125;\n            location.href &#x3D; &quot;&lt;?php echo $url; ?&gt;&quot;;\n        &#125;\n        &#x2F;&#x2F;延时0.5S跳转，可自行修改延时时间\n        setTimeout(link_jump, 500);\n        &#x2F;&#x2F;延时50S关闭跳转页面，用于文件下载后不会关闭跳转页的问题\n        setTimeout(function() &#123;\n            window.opener &#x3D; null;\n            window.close();\n        &#125;, 50000);\n    &lt;&#x2F;script&gt;\n    &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;&#x2F;title&gt;\n    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;body &#123; margin: 0; height: 100vh; display: flex; align-items: center; justify-content: center; background: #222428 &#125; .container &#123; width: 8em; height: 1em; font-size: 35px; display: flex; justify-content: space-between &#125; .container span &#123; width: 1em; height: 1em; --duration: 1.5s &#125; .girl &#123; animation: slide var(--duration) ease-in-out infinite alternate &#125; @keyframes slide &#123; 0% &#123; transform: translateX(0); filter: brightness(1) &#125; to &#123; transform: translatex(6.75em); filter: brightness(1.45) &#125; &#125; .boys &#123; width: 6em; display: flex; justify-content: space-between &#125; .boys span &#123; animation: var(--duration) ease-in-out infinite alternate &#125; .boys span:nth-child(1) &#123; animation-name: jump-off-1 &#125; .boys span:nth-child(2) &#123; animation-name: jump-off-2 &#125; .boys span:nth-child(3) &#123; animation-name: jump-off-3 &#125; .boys span:nth-child(4) &#123; animation-name: jump-off-4 &#125; @keyframes jump-off-1 &#123; 0%, 15% &#123; transform: rotate(0deg) &#125; 35%, to &#123; transform-origin: -50% center; transform: rotate(-180deg) &#125; &#125; @keyframes jump-off-2 &#123; 0%, 30% &#123; transform: rotate(0deg) &#125; 50%, to &#123; transform-origin: -50% center; transform: rotate(-180deg) &#125; &#125; @keyframes jump-off-3 &#123; 0%, 45% &#123; transform: rotate(0deg) &#125; 65%, to &#123; transform-origin: -50% center; transform: rotate(-180deg) &#125; &#125; @keyframes jump-off-4 &#123; 0%, 60% &#123; transform: rotate(0deg) &#125; 80%, to &#123; transform-origin: -50% center; transform: rotate(-180deg) &#125; &#125; .container span:before &#123; content: &#39;&#39;; position: absolute; width: inherit; height: inherit; border-radius: 15%; box-shadow: 0 0 .1em rgba(0, 0, 0, .3) &#125; .girl:before &#123; background-color: hotpink &#125; .boys span:before &#123; background-color: #1e90ff; animation: var(--duration) ease-in-out infinite alternate &#125; .boys span:nth-child(1):before &#123; filter: brightness(1); animation-name: jump-down-1 &#125; .boys span:nth-child(2):before &#123; filter: brightness(1.15); animation-name: jump-down-2 &#125; .boys span:nth-child(3):before &#123; filter: brightness(1.3); animation-name: jump-down-3 &#125; .boys span:nth-child(4):before &#123; filter: brightness(1.45); animation-name: jump-down-4 &#125; @keyframes jump-down-1 &#123; 5% &#123; transform: scale(1, 1) &#125; 15% &#123; transform-origin: center bottom; transform: scale(1.3, 0.7) &#125; 20%, 25% &#123; transform-origin: center bottom; transform: scale(0.8, 1.4) &#125; 40% &#123; transform-origin: center top; transform: scale(1.3, 0.7) &#125; 55%, to &#123; transform: scale(1, 1) &#125; &#125; @keyframes jump-down-2 &#123; 20% &#123; transform: scale(1, 1) &#125; 30% &#123; transform-origin: center bottom; transform: scale(1.3, 0.7) &#125; 35%, 40% &#123; transform-origin: center bottom; transform: scale(0.8, 1.4) &#125; 55% &#123; transform-origin: center top; transform: scale(1.3, 0.7) &#125; 70%, to &#123; transform: scale(1, 1) &#125; &#125; @keyframes jump-down-3 &#123; 35% &#123; transform: scale(1, 1) &#125; 45% &#123; transform-origin: center bottom; transform: scale(1.3, 0.7) &#125; 50%, 55% &#123; transform-origin: center bottom; transform: scale(0.8, 1.4) &#125; 70% &#123; transform-origin: center top; transform: scale(1.3, 0.7) &#125; 85%, to &#123; transform: scale(1, 1) &#125; &#125; @keyframes jump-down-4 &#123; 50% &#123; transform: scale(1, 1) &#125; 60% &#123; transform-origin: center bottom; transform: scale(1.3, 0.7) &#125; 65%, 70% &#123; transform-origin: center bottom; transform: scale(0.8, 1.4) &#125; 85% &#123; transform-origin: center top; transform: scale(1.3, 0.7) &#125; to &#123; transform: scale(1, 1) &#125; &#125;\n    &lt;&#x2F;style&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div class&#x3D;&quot;container&quot;&gt;\n      &lt;span class&#x3D;&quot;girl&quot;&gt;&lt;&#x2F;span&gt;\n      &lt;div class&#x3D;&quot;boys&quot;&gt;\n        &lt;span&gt;&lt;&#x2F;span&gt;\n        &lt;span&gt;&lt;&#x2F;span&gt;\n        &lt;span&gt;&lt;&#x2F;span&gt;\n        &lt;span&gt;&lt;&#x2F;span&gt;\n      &lt;&#x2F;div&gt;\n    &lt;&#x2F;div&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n<h2 id=\"新增-robots-规则\"><a href=\"#新增-robots-规则\" class=\"headerlink\" title=\"新增 robots 规则\"></a>新增 robots 规则</h2><p>为了防止搜索引擎抓取这种跳转链接，我们可以在 <code>robots.txt</code> 里面新增禁止抓取 <code>/go</code> 的规则：</p>\n<pre class=\"line-numbers language-markdown\" data-language=\"markdown\"><code class=\"language-markdown\">User-agent: \\*\nDisallow:\nDisallow: &#x2F;wp-admin&#x2F;\nDisallow: &#x2F;go&#x2F;\nSitemap: https:&#x2F;&#x2F;www.baidu.com&#x2F;sitemap.xml</code></pre>\n\n<h2 id=\"设置伪静态\"><a href=\"#设置伪静态\" class=\"headerlink\" title=\"设置伪静态\"></a>设置伪静态</h2><p><code>Nginx</code>伪静态规则：</p>\n<pre class=\"line-numbers language-properties\" data-language=\"properties\"><code class=\"language-properties\"># 外链跳转伪静态 php版本\nrewrite ^&#x2F;go&#x2F;(.*)$ &#x2F;go.php?url&#x3D;$1 last; #注意go.php的实际路径，默认为网站根目录</code></pre>\n\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><ul>\n<li><a href=\"https://zhang.ge/2703.html\">分享两种外链跳转方法，可避免权重流失</a></li>\n<li><a href=\"https://zhang.ge/4683.html\">分享一个 WordPress 外链跳转教程，兼容知更鸟暗箱下载和文章索引</a></li>\n</ul>\n","text":"WordPress 外链转为内链，这样可以减少权重的流失或者隐藏某些推荐链接。实现方法有两种：安装插件实现或者直接使用代码实现。 重写外链安装插件在后台插件安装界面搜索 Anylink 即可在线安装。插件配置时需注意： 跳转目录名称：go 。应该与网站根目录下跳转页面文件夹名相同...","link":"","photos":[],"count_time":{"symbolsCount":"41k","symbolsTime":"37 mins."},"categories":[{"name":"WordPress","slug":"WordPress","count":3,"path":"api/categories/WordPress.json"}],"tags":[{"name":"WordPress","slug":"WordPress","count":3,"path":"api/tags/WordPress.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%87%8D%E5%86%99%E5%A4%96%E9%93%BE\"><span class=\"toc-text\">重写外链</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">安装插件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">代码实现</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2%E6%96%87%E7%AB%A0%E5%86%85%E5%AE%B9%E4%B8%AD%E7%9A%84%E5%A4%96%E9%93%BE\"><span class=\"toc-text\">替换文章内容中的外链</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2%E8%AF%84%E8%AE%BA%E8%80%85%E7%9A%84%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">替换评论者的链接</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9E%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2\"><span class=\"toc-text\">新增跳转页面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-1\"><span class=\"toc-text\">模板 1</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-2\"><span class=\"toc-text\">模板 2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-3\"><span class=\"toc-text\">模板 3</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-4\"><span class=\"toc-text\">模板 4</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-5\"><span class=\"toc-text\">模板 5</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF-6\"><span class=\"toc-text\">模板 6</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9E-robots-%E8%A7%84%E5%88%99\"><span class=\"toc-text\">新增 robots 规则</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E4%BC%AA%E9%9D%99%E6%80%81\"><span class=\"toc-text\">设置伪静态</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0\"><span class=\"toc-text\">参考文章</span></a></li></ol>","author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}},"mapped":true,"prev_post":{"title":"使用 GitHub Action 每天自动签到领取 UCloud 社区积分","uid":"410e5617732351033c2107ab8a0a20b0","slug":"2020-12-27-使用-GitHub-Action-每天自动签到领取-UCloud-社区积分","date":"2020-12-27T14:06:38.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-12-27-使用-GitHub-Action-每天自动签到领取-UCloud-社区积分.json","keywords":null,"cover":[],"text":" 目录 特点 已实现 TODO 使用方法 参数配置 运行签到 Action 定时任务 签到信息推送 常见问题 关于定时任务不执行 TGBot 推送相关参数获取 Fork 之后如何同步原作者的更新内容 方式一： 保留自己内容 方式二： 源作者内容直接覆盖自己内容 感谢 Licens...","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"GitHub Action","slug":"GitHub-Action","count":1,"path":"api/categories/GitHub-Action.json"}],"tags":[{"name":"UCloud","slug":"UCloud","count":3,"path":"api/tags/UCloud.json"},{"name":"GitHub Action","slug":"GitHub-Action","count":1,"path":"api/tags/GitHub-Action.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}},"next_post":{"title":"免费组队领取堡塔企业级备份插件","uid":"9d7117cb9623769990b3cb6113e1cf49","slug":"2020-12-18-免费组队领取堡塔企业级备份插件","date":"2020-12-18T15:03:56.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-12-18-免费组队领取堡塔企业级备份插件.json","keywords":null,"cover":[],"text":"免费组队领取堡塔企业级备份插件，队伍人数需要满 5 人，满员后组队关闭且立即发放插件抵扣券。插件抵扣券查看地址 插件介绍官方介绍：堡塔企业级备份 活动地址 活动地址：https://www.bt.cn/freegroup1 队伍地址：https://www.bt.cn/freeg...","link":"","photos":[],"count_time":{"symbolsCount":529,"symbolsTime":"1 mins."},"categories":[{"name":"活动","slug":"活动","count":3,"path":"api/categories/活动.json"}],"tags":[{"name":"活动","slug":"活动","count":3,"path":"api/tags/活动.json"},{"name":"宝塔面板","slug":"宝塔面板","count":2,"path":"api/tags/宝塔面板.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}}}