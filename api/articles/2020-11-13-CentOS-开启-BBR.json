{"title":"CentOS 开启 BBR","uid":"af957dc6357d17d5fffb43ddbcdfe97b","slug":"2020-11-13-CentOS-开启-BBR","date":"2020-11-13T13:42:36.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-11-13-CentOS-开启-BBR.json","keywords":null,"cover":[],"content":"<p><img src=\"https://img.zxj.guru/2020/11/centos-enable-bbr.png\" alt=\"centos-enable-bbr\"></p>\n<p>Bottleneck Bandwidth and Round-trip propagation time（BBR），是 Google 在 2016 年开发的 TCP 拥塞控制算法，可以使 Linux 服务器显着地提高吞吐量和减少 TCP 连接的延迟。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>注意：</p>\n<ol>\n<li><p>由于是使用最新版系统内核，最好请勿在生产环境安装，以免产生不可预测之后果。</p>\n</li>\n<li><p>BBR 不支持虚拟方式为 OpenVZ 和 LXC 的服务器。如果你的服务器使用以下命令返回 <code>openvz</code>, <code>lxc</code> 字段，那么你就没必要继续阅读本文了 😂。如果返回其它字段（例如：<code>kvm</code>, <code>xen</code> , <code>vmware</code> 等），那么你可以参考以下步骤开启 BBR。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">echo $(systemd-detect-virt)\necho $(virt-what)</code></pre></li>\n</ol></blockquote>\n<hr>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>TCP BBR（Bottleneck Bandwidth and Round-trip propagation time）是由 Google 设计，于 2016 年发布的拥塞算法。以往大部分拥塞算法是基于丢包来作为降低传输速率的信号，而 BBR 则基于模型主动探测。该算法使用网络最近出站数据分组当时的最大带宽和往返时间来创建网络的显式模型。数据包传输的每个累积或选择性确认用于生成记录在数据包传输过程和确认返回期间的时间内所传送数据量的采样率。[39]该算法认为随着网络接口控制器逐渐进入千兆速度时，与缓冲膨胀相关的延迟相比丢包更应该被认为是识别拥塞的主要决定因素，所以基于延迟模型的拥塞控制算法（如 BBR）会有更高的吞吐量和更低的延迟，可以用 BBR 来替代其他流行的拥塞算法，例如 CUBIC。Google 在 YouTube 上应用该算法，将全球平均的 YouTube 网络吞吐量提高了 4%，在一些国家超过了 14%。[40]</p>\n<p>BBR 之后移植入 Linux 内核 4.9 版本，[41][42]并且对于 QUIC 可用。</p>\n<p>BBR 效率很高，速度也很快，但是它与非 BBR 的流的公平性有争议。虽然谷歌的展示显示 BBR 与 CUBIC 共存良好，但像杰夫·休斯顿和霍克、布利斯和齐特巴特等研究者发现它对其他流不公平，并且不可扩展。[43]霍克等人还发现，在 Linux 4.9 的 BBR 实现中”存在一些严重的固有问题，如排队延迟增加、不公平和大量数据包丢失”。[44]</p>\n<p>索海尔·阿巴斯洛等人(C2TCP 的作者)指出，BBR 在动态环境中表现不佳，比如蜂窝网络。[45][46]他们还表明 BBR 存在不公平问题。例如，当一个 CUBIC 流(在 Linux、Android 和 MacOS 中是默认的 TCP 实现)与网络中的 BBR 流共存时，BBR 流可以支配 CUBIC 流并从中获得整个链路带宽[45]。</p>\n<p>– <a href=\"https://zh.wikipedia.org/wiki/TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6#TCP_BBR\">TCP BBR - Wikipedia</a></p></blockquote>\n<h2 id=\"一键脚本\"><a href=\"#一键脚本\" class=\"headerlink\" title=\"一键脚本\"></a>一键脚本</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>以下一键脚本内容转载于：<a href=\"https://teddysun.com/489.html\">一键安装最新内核并开启 BBR 脚本 | 秋水逸冰</a></p></blockquote>\n<h3 id=\"本脚本适用环境\"><a href=\"#本脚本适用环境\" class=\"headerlink\" title=\"本脚本适用环境\"></a>本脚本适用环境</h3><ul>\n<li>系统支持：CentOS 6+，Debian 8+，Ubuntu 16+</li>\n<li>虚拟技术：OpenVZ 以外的，比如 KVM、Xen、VMware</li>\n<li>内存要求：≥128M</li>\n<li>日期　　：2020 年 9 月 8 日</li>\n</ul>\n<h3 id=\"关于本脚本\"><a href=\"#关于本脚本\" class=\"headerlink\" title=\"关于本脚本\"></a>关于本脚本</h3><ol>\n<li>本脚本已在 <strong>Vultr</strong> 上的 VPS 全部测试通过。</li>\n<li>当脚本检测到 VPS 的虚拟方式为 OpenVZ 时，会提示错误，并自动退出安装。</li>\n<li>脚本运行完重启发现开不了机的，打开 VPS 后台控制面板的 VNC, 开机卡在 grub 引导, 手动选择内核即可。</li>\n<li>由于是使用最新版系统内核，最好请勿在生产环境安装，以免产生不可预测之后果。</li>\n</ol>\n<h3 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h3><p>使用 root 用户登录，运行以下命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">wget --no-check-certificate -O &#x2F;opt&#x2F;bbr.sh https:&#x2F;&#x2F;github.com&#x2F;teddysun&#x2F;across&#x2F;raw&#x2F;master&#x2F;bbr.sh\nchmod 755 &#x2F;opt&#x2F;bbr.sh\n&#x2F;opt&#x2F;bbr.sh</code></pre>\n\n<p>安装完成后，脚本会提示需要重启 VPS，输入 y 并回车后重启。<br>重启完成后，进入 VPS，验证一下是否成功安装最新内核并开启 TCP BBR，输入以下检查：</p>\n<ol>\n<li><p>查看内核版本</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">uname -r</code></pre>\n\n<p>查看内核版本，显示为新版内核就表示 OK 了。</p>\n</li>\n<li><p>验证是否成功开启了 BBR。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.ipv4.tcp_available_congestion_control\n# 返回值一般为：\n# net.ipv4.tcp_available_congestion_control &#x3D; bbr cubic reno\n# 或者：\n# net.ipv4.tcp_available_congestion_control &#x3D; reno cubic bbr</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.ipv4.tcp_congestion_control\n# 返回值一般为：\n# net.ipv4.tcp_congestion_control &#x3D; bbr</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.core.default_qdisc\n# 返回值一般为：\n# net.core.default_qdisc &#x3D; fq</code></pre></li>\n<li><p>查看内核模块是否加载。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">lsmod | grep bbr</code></pre>\n\n<p>返回值有 tcp_bbr 模块即说明 bbr 已启动。比如：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">tcp_bbr                20480  3</code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>注意：并不是所有的 VPS 都会有此返回值，若没有也属正常。</p></blockquote>\n</li>\n</ol>\n<h3 id=\"特别说明\"><a href=\"#特别说明\" class=\"headerlink\" title=\"特别说明\"></a>特别说明</h3><p>如果你使用的是 Google Cloud Platform （GCP）更换内核，有时会遇到重启后，整个磁盘变为只读的情况。只需执行以下命令即可恢复：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">mount -o remount rw &#x2F;</code></pre>\n\n<h2 id=\"CentOS-7-手动开启\"><a href=\"#CentOS-7-手动开启\" class=\"headerlink\" title=\"CentOS 7 手动开启\"></a>CentOS 7 手动开启</h2><h3 id=\"更换内核\"><a href=\"#更换内核\" class=\"headerlink\" title=\"更换内核\"></a>更换内核</h3><p>由于开启 BBR 需 4.10 以上版本 Linux 内核，如果您的 Linux 服务器内核低于 4.10（例如：腾讯云控制台安装的 CentOS 7 系统内核是 <code>3.10</code>，低于开启 BBR 最低要求的版本 <code>4.10</code>，所以我们需要手动更换为默认内核后再作升级）。</p>\n<p>手动更换内核的步骤可以看我之前的文章：<a href=\"https://www.zxj.guru/centos-upgrade-kernel.html\">CentOS 手动更换内核</a>。</p>\n<h3 id=\"开启-BBR\"><a href=\"#开启-BBR\" class=\"headerlink\" title=\"开启 BBR\"></a>开启 BBR</h3><ol>\n<li><p>编辑 <code>/etc/sysctl.conf</code> 文件，添加如下内容。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">net.core.default_qdisc&#x3D;fq\nnet.ipv4.tcp_congestion_control&#x3D;bbr\n#bash\nsudo sed -i &#39;&#x2F;net.core.default_qdisc&#x2F;d&#39; &#x2F;etc&#x2F;sysctl.conf\nsudo sed -i &#39;&#x2F;net.ipv4.tcp_congestion_control&#x2F;d&#39; &#x2F;etc&#x2F;sysctl.conf\nsudo echo &quot;net.core.default_qdisc &#x3D; fq&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf\nsudo echo &quot;net.ipv4.tcp_congestion_control &#x3D; bbr&quot; &gt;&gt; &#x2F;etc&#x2F;sysctl.conf</code></pre></li>\n<li><p>从配置文件中加载内核参数设置。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl -p &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</code></pre></li>\n<li><p>验证是否成功开启了 BBR。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.ipv4.tcp_available_congestion_control | grep -o &#39;net.ipv4.tcp_available_congestion_control &#x3D; reno cubic bbr&#39;\nsysctl net.ipv4.tcp_available_congestion_control | grep -o &#39;net.ipv4.tcp_available_congestion_control &#x3D; bbr cubic reno&#39;\n# 高亮显示如下任意一条内容即可：\n# net.ipv4.tcp_available_congestion_control &#x3D; reno cubic bbr\n# net.ipv4.tcp_available_congestion_control &#x3D; bbr cubic reno</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.ipv4.tcp_congestion_control | grep -o &#39;net.ipv4.tcp_congestion_control &#x3D; bbr&#39;\n# 高亮显示如下内容即可：\n# net.ipv4.tcp_congestion_control &#x3D; bbr</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sysctl net.ipv4.tcp_available_congestion_control | grep -o &#39;net.ipv4.tcp_available_congestion_control &#x3D; reno cubic bbr&#39;\n# 高亮显示如下内容即可：\n# net.ipv4.tcp_available_congestion_control &#x3D; reno cubic bbr</code></pre></li>\n<li><p>查看内核模块是否加载。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">$ lsmod | grep bbr\ntcp_bbr                20480  1</code></pre></li>\n<li><p>更改文件权限。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">sudo chmod 644 &#x2F;etc&#x2F;sysctl.conf</code></pre></li>\n</ol>\n","text":" Bottleneck Bandwidth and Round-trip propagation time（BBR），是 Google 在 2016 年开发的 TCP 拥塞控制算法，可以使 Linux 服务器显着地提高吞吐量和减少 TCP 连接的延迟。 注意： 由于是使用最新版系...","link":"","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/categories/CentOS.json"}],"tags":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/tags/CentOS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">一键脚本</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E8%84%9A%E6%9C%AC%E9%80%82%E7%94%A8%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">本脚本适用环境</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B3%E4%BA%8E%E6%9C%AC%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">关于本脚本</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">使用方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\">特别说明</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#CentOS-7-%E6%89%8B%E5%8A%A8%E5%BC%80%E5%90%AF\"><span class=\"toc-text\">CentOS 7 手动开启</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9B%B4%E6%8D%A2%E5%86%85%E6%A0%B8\"><span class=\"toc-text\">更换内核</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%90%AF-BBR\"><span class=\"toc-text\">开启 BBR</span></a></li></ol></li></ol>","author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}},"mapped":true,"prev_post":{"title":"注册 UCloud 用户社区获取积分可兑换代金券和礼品","uid":"836fbbe66da33f58c140987f7ad616d1","slug":"2020-12-03 注册 UCloud 用户社区获取积分可兑换代金券和礼品","date":"2020-12-03T09:25:26.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-12-03 注册 UCloud 用户社区获取积分可兑换代金券和礼品.json","keywords":null,"cover":[],"text":"2020 年 1 月，UCloud 优刻得（股票简称：优刻得，股票代码：688158）正式登陆科创板，成为中国第一家公有云科创板上市公司，同时成为了中国 A 股市场首家”同股不同权” 的上市企业，开创了中国 A 股资本市场及公司治理的先河。 UClub 是前段时间 UCloud ...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"活动","slug":"活动","count":3,"path":"api/categories/活动.json"}],"tags":[{"name":"活动","slug":"活动","count":3,"path":"api/tags/活动.json"},{"name":"UCloud","slug":"UCloud","count":3,"path":"api/tags/UCloud.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}},"next_post":{"title":"CentOS 手动更换内核","uid":"64736f77b89e86715a6b7061bf24c0ba","slug":"2020-11-13-CentOS-手动更换内核","date":"2020-11-13T13:26:07.000Z","updated":"2021-09-06T15:53:22.642Z","comments":true,"path":"api/articles/2020-11-13-CentOS-手动更换内核.json","keywords":null,"cover":[],"text":" 由于开启 BBR 需 4.10 以上版本 Linux 内核， 但是云服务器安装的 CentOS 7 系统内核是 3.10，低于开启 BBR 最低要求的版本 4.10，所以我们需要手动更换为默认内核后再作升级。 由于是使用最新版系统内核，最好请勿在生产环境安装，以免产生不可预测之...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/categories/CentOS.json"}],"tags":[{"name":"CentOS","slug":"CentOS","count":4,"path":"api/tags/CentOS.json"},{"name":"Kernel","slug":"Kernel","count":1,"path":"api/tags/Kernel.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}}}