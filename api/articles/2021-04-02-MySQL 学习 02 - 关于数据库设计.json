{"title":"MySQL 学习 02 - 关于数据库设计","uid":"47bb9bb82bc12d18515960275e83a800","slug":"2021-04-02-MySQL 学习 02 - 关于数据库设计","date":"2021-04-02T10:25:23.000Z","updated":"2021-09-09T11:10:00.924Z","comments":true,"path":"api/articles/2021-04-02-MySQL 学习 02 - 关于数据库设计.json","keywords":null,"cover":null,"content":"<h2 id=\"数据库结构设计\"><a href=\"#数据库结构设计\" class=\"headerlink\" title=\"数据库结构设计\"></a>数据库结构设计</h2><ol>\n<li>业务分析</li>\n<li>逻辑设计</li>\n<li>数据类型</li>\n<li>对象命名</li>\n<li>建立库表</li>\n</ol>\n<h2 id=\"业务分析\"><a href=\"#业务分析\" class=\"headerlink\" title=\"业务分析\"></a>业务分析</h2><ul>\n<li>课程属性：{主标题、副标题、方向、分类、难度、最新、最热、时长、简介、人数、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>课程列表属性：{章节、小节名、说明、小节时长、章节 URL、视频格式}</li>\n<li>讲师属性：{讲师昵称、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</li>\n<li>问答评论属性：{类型、标题、内容、关联章节、浏览量、发布时间。用户昵称}</li>\n<li>笔记属性：{用户昵称、关联章节、笔记标题、笔记内容、发布时间}</li>\n<li>用户属性：{用户昵称、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</li>\n<li>评价属性：{用户昵称、课程主标题、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n</ul>\n<h2 id=\"逻辑设计\"><a href=\"#逻辑设计\" class=\"headerlink\" title=\"逻辑设计\"></a>逻辑设计</h2><h3 id=\"宽表模式\"><a href=\"#宽表模式\" class=\"headerlink\" title=\"宽表模式\"></a>宽表模式</h3><p><strong>课程表</strong></p>\n<table>\n<thead>\n<tr>\n<th>主标题</th>\n<th>副标题</th>\n<th>方向</th>\n<th>分类</th>\n<th>难度</th>\n<th>讲师名</th>\n<th>讲师职位</th>\n<th>综合评分</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>MySQL 面试指南</td>\n<td>中高级 IT 开发人员晋升加薪必备佳品！</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>10</td>\n</tr>\n<tr>\n<td>MyCAT + MySQL</td>\n<td>MyCAT 高可用数据库架构</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>10</td>\n</tr>\n<tr>\n<td>MySQL 架构设计</td>\n<td>高性能可扩展 MySQL 架构设计及优化</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>9.15</td>\n</tr>\n<tr>\n<td>扛得住的 MySQL</td>\n<td>MySQL 提升课程全面讲解 MySQL 架构设计</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>9.94</td>\n</tr>\n</tbody></table>\n<h4 id=\"宽表模式存在的问题\"><a href=\"#宽表模式存在的问题\" class=\"headerlink\" title=\"宽表模式存在的问题\"></a>宽表模式存在的问题</h4><ul>\n<li><p>数据冗余：相同的数据在一个表中出现了多次。</p>\n</li>\n<li><p>数据更新异常：修改一行中某列的值时，同时修改了多行数据。</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">update 课程表 set 讲师职位 &#x3D; &#39;MySQL架构师&#39; where 讲师名 &#x3D; &#39;sqlercn&#39;;\nupdate 课程表 set 讲师职位 &#x3D; &#39;MySQL架构师&#39; where 讲师名 &#x3D; &#39;sqlercn&#39; and 主标题 &#x3D; &#39;MySQL 面试指南&#39;;</code></pre></li>\n<li><p>数据插入异常：部分数据由于缺失主键信息而无法写入表中。（匹配不到数据导致主键信息为空）</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">insert into 课程表(方向) values(&#39;后端开发&#39;);</code></pre></li>\n<li><p>数据删除异常：删除某一数据时不得不删除另一数据。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">delete from 课程表 where 方向 &#x3D; &#39;数据库&#39;;</code></pre></li>\n</ul>\n<h4 id=\"宽表模式的应用场景\"><a href=\"#宽表模式的应用场景\" class=\"headerlink\" title=\"宽表模式的应用场景\"></a>宽表模式的应用场景</h4><ul>\n<li>配合列存储的数据报表应用。</li>\n</ul>\n<h3 id=\"数据库设计范式\"><a href=\"#数据库设计范式\" class=\"headerlink\" title=\"数据库设计范式\"></a>数据库设计范式</h3><h4 id=\"第一范式\"><a href=\"#第一范式\" class=\"headerlink\" title=\"第一范式\"></a>第一范式</h4><p>表中的所有字段都是不可再分的。</p>\n<p>用户表：</p>\n<table>\n    <tr>\n        <td rowspan=\"2\" align=\"center\"> 姓名 </td>\n        <td rowspan=\"2\" align=\"center\"> 性别 </td>\n        <td colspan=\"3\" align=\"center\"> 联系方式 </td>\n    </tr>\n    <tr>\n        <td align=\"center\"> 手机 </td>\n        <td align=\"center\"> 固话 </td>\n        <td align=\"center\"> 邮箱 </td>\n    </tr>\n    <tr>\n        <td align=\"center\"> 张三 </td>\n        <td align=\"center\"> 男 </td>\n        <td align=\"center\"> 13800000001 </td>\n        <td align=\"center\"> 88886666 </td>\n        <td align=\"center\"> zhangsan@gmail.com </td>\n    </tr>\n</table>\n\n<p>联系方式属于复合属性，拆分为手机、固话、邮箱。</p>\n<table>\n<thead>\n<tr>\n<th>姓名</th>\n<th>性别</th>\n<th>手机</th>\n<th>固话</th>\n<th>邮箱</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>张三</td>\n<td>男</td>\n<td>13800000001</td>\n<td>88886666</td>\n<td><a href=\"mailto:&#x7a;&#104;&#97;&#110;&#x67;&#115;&#x61;&#110;&#x40;&#x67;&#109;&#97;&#x69;&#x6c;&#46;&#x63;&#x6f;&#x6d;\">&#x7a;&#104;&#97;&#110;&#x67;&#115;&#x61;&#110;&#x40;&#x67;&#109;&#97;&#x69;&#x6c;&#46;&#x63;&#x6f;&#x6d;</a></td>\n</tr>\n</tbody></table>\n<h4 id=\"第二范式\"><a href=\"#第二范式\" class=\"headerlink\" title=\"第二范式\"></a>第二范式</h4><p>表中必须存在业务主键，并且非业务主键依赖于全部业务主键。</p>\n<p>笔记表：</p>\n<table>\n<thead>\n<tr>\n<th>用户</th>\n<th>章节</th>\n<th>标题</th>\n<th>内容</th>\n<th>用户积分</th>\n<th>时间</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>张三</td>\n<td>1-1</td>\n<td>笔记 01</td>\n<td>测试笔记</td>\n<td>300</td>\n<td>2018-12-24</td>\n</tr>\n</tbody></table>\n<p>业务主键：用户、章节和标题。用户积分只依赖于用户。</p>\n<p>笔记表</p>\n<table>\n<thead>\n<tr>\n<th>用户（PK）</th>\n<th>章节（PK）</th>\n<th>标题（PK）</th>\n<th>内容</th>\n<th>时间</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>张三</td>\n<td>1-1</td>\n<td>笔记 01</td>\n<td>测试笔记</td>\n<td>2018-12-14</td>\n</tr>\n</tbody></table>\n<p>用户表</p>\n<table>\n<thead>\n<tr>\n<th>用户</th>\n<th>用户积分</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>张三</td>\n<td>300</td>\n</tr>\n</tbody></table>\n<h4 id=\"第三范式\"><a href=\"#第三范式\" class=\"headerlink\" title=\"第三范式\"></a>第三范式</h4><p>表中的非主键列之间不能相互依赖。</p>\n<p><strong>课程表</strong></p>\n<table>\n<thead>\n<tr>\n<th>主标题（PK）</th>\n<th>副标题</th>\n<th>方向</th>\n<th>分类</th>\n<th>难度</th>\n<th>讲师名</th>\n<th>讲师职位</th>\n<th>综合评分</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>MySQL 面试指南</td>\n<td>中高级 IT 开发人员晋升加薪必备佳品！</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>10</td>\n</tr>\n<tr>\n<td>MyCAT + MySQL</td>\n<td>MyCAT 高可用数据库架构</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td><strong>高级 DBA</strong></td>\n<td>10</td>\n</tr>\n</tbody></table>\n<p>讲师职位列与讲师名列存在依赖关系。</p>\n<p><strong>课程表</strong></p>\n<table>\n<thead>\n<tr>\n<th>主标题（PK）</th>\n<th>副标题</th>\n<th>方向</th>\n<th>分类</th>\n<th>难度</th>\n<th>讲师名</th>\n<th>综合评分</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>MySQL 面试指南</td>\n<td>中高级 IT 开发人员晋升加薪必备佳品！</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td>10</td>\n</tr>\n<tr>\n<td>MyCAT + MySQL</td>\n<td>MyCAT 高可用数据库架构</td>\n<td><strong>数据库</strong></td>\n<td><strong>MySQL</strong></td>\n<td><strong>中级</strong></td>\n<td><strong>sqlercn</strong></td>\n<td>10</td>\n</tr>\n</tbody></table>\n<p><strong>讲师表</strong></p>\n<table>\n<thead>\n<tr>\n<th>讲师名（PK）</th>\n<th>讲师职位</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Sqlercn</td>\n<td>高级 DBA</td>\n</tr>\n</tbody></table>\n<h3 id=\"逻辑建模\"><a href=\"#逻辑建模\" class=\"headerlink\" title=\"逻辑建模\"></a>逻辑建模</h3><h4 id=\"课程对象\"><a href=\"#课程对象\" class=\"headerlink\" title=\"课程对象\"></a>课程对象</h4><p>课程属性：{主标题、副标题、方向、分类、难度、<strong>最新</strong>、<strong>最热</strong>、时长、简介、<strong>人数</strong>、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</p>\n<ul>\n<li>课程表：{主标题（PK）、副标题、方向、分类、难度、<strong>上线时间</strong>、<strong>学习人数</strong>、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>讲师表：{讲明名、讲师职位}</li>\n<li>课程方向表：{课程方向名称（PK）、添加时间}</li>\n<li>课程分类表：{课程分类名称（PK）、添加时间}</li>\n<li>课程难度表：{课程难度（PK）、添加时间}</li>\n</ul>\n<h4 id=\"课程列表对象\"><a href=\"#课程列表对象\" class=\"headerlink\" title=\"课程列表对象\"></a>课程列表对象</h4><p>课程列表属性：{章节、小节名、说明、小节时长、章节 URL、视频格式}</p>\n<ul>\n<li>课程章节表：{课程章节名（PK）、说明、章节编号}</li>\n<li>课程同章节的联系表：{课程主标题（PK）、课程章节名（PK）}</li>\n<li>课程小节表：{小节名称（PK）、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程章同小节关系表：{课程主标题（PK）、课程章节名（PK）、小节名称（PK）}</li>\n</ul>\n<h4 id=\"讲师对象\"><a href=\"#讲师对象\" class=\"headerlink\" title=\"讲师对象\"></a>讲师对象</h4><p>讲师属性：{讲师昵称、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</p>\n<ul>\n<li>讲师表：{讲师昵称（PK）、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</li>\n</ul>\n<h4 id=\"用户对象\"><a href=\"#用户对象\" class=\"headerlink\" title=\"用户对象\"></a>用户对象</h4><p>用户属性：{用户昵称、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</p>\n<ul>\n<li>用户表：{用户昵称（PK）、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数}</li>\n</ul>\n<p>将讲师表合并到用户表中：</p>\n<ul>\n<li>用户表：{用户昵称（PK）、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</li>\n</ul>\n<h4 id=\"问答评论对象\"><a href=\"#问答评论对象\" class=\"headerlink\" title=\"问答评论对象\"></a>问答评论对象</h4><p>问答评论属性：{类型、标题、内容、关联章节（课程主标题、课程章名、小节名称）、浏览量、发布时间。用户昵称}</p>\n<ul>\n<li>问答评论表：{标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、父评论标题、内容、类型、浏览量、发布时间}</li>\n</ul>\n<h4 id=\"笔记对象\"><a href=\"#笔记对象\" class=\"headerlink\" title=\"笔记对象\"></a>笔记对象</h4><p>笔记属性：{用户昵称、关联章节（课程主标题、课程章名、小节名称）、笔记标题、笔记内容、发布时间}</p>\n<ul>\n<li>笔记表：{笔记标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、笔记内容、发布时间}</li>\n</ul>\n<h4 id=\"评价对象\"><a href=\"#评价对象\" class=\"headerlink\" title=\"评价对象\"></a>评价对象</h4><p>评价属性：{用户昵称、课程主标题、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</p>\n<ul>\n<li>评价表：{用户昵称 (PK)、课程主标题 (PK)、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n<li>用户选课表：{用户昵称 (PK)、课程主标题 (PK)、选课时间、累计听课时长}</li>\n</ul>\n<h4 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h4><ul>\n<li>课程表：{主标题（PK）、副标题、方向、分类、难度、<strong>上线时间</strong>、<strong>学习人数</strong>、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>课程章节表：{课程章节名（PK）、说明、章节编号}</li>\n<li>课程同章节的联系表：{课程主标题（PK）、课程章节名（PK）}</li>\n<li>课程小节表：{小节名称（PK）、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程章同小节关系表：{课程主标题（PK）、课程章节名（PK）、小节名称（PK）}</li>\n<li>课程方向表：{课程方向名称（PK）、添加时间}</li>\n<li>课程分类表：{课程分类名称（PK）、添加时间}</li>\n<li>课程难度表：{课程难度（PK）、添加时间}</li>\n<li>用户表：{用户昵称（PK）、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</li>\n<li>问答评论表：{标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、父评论标题、内容、类型、浏览量、发布时间}</li>\n<li>笔记表：{笔记标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、笔记内容、发布时间}</li>\n<li>评价表：{用户昵称 (PK)、课程主标题 (PK)、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n<li>用户选课表：{用户昵称 (PK)、课程主标题 (PK)、选课时间、累计听课时长}</li>\n</ul>\n<h3 id=\"反范式化设计\"><a href=\"#反范式化设计\" class=\"headerlink\" title=\"反范式化设计\"></a>反范式化设计</h3><h4 id=\"范式化设计存在的问题\"><a href=\"#范式化设计存在的问题\" class=\"headerlink\" title=\"范式化设计存在的问题\"></a>范式化设计存在的问题</h4><p>例如：获取出一门课程包括的所有章节和小节的信息？</p>\n<p>过程：通过课程同章节的联系表关联课程表和章节表获取到课程的所有章节信息，然后通过课程章节同小节关系表关联章节表和小节表获取到所有小节信息。</p>\n<p>问题：查询过程中一共需要关联 5 张表，查询性能很差。</p>\n<h4 id=\"课程章节表反范式化设计\"><a href=\"#课程章节表反范式化设计\" class=\"headerlink\" title=\"课程章节表反范式化设计\"></a>课程章节表反范式化设计</h4><p>课程表与章节表之间存在一对多的关系。</p>\n<ul>\n<li>课程章节表：{课程章节名（PK）、说明、章节编号}</li>\n<li>课程同章节的联系表：{课程主标题（PK）、课程章节名（PK）}</li>\n</ul>\n<p>合并为课程章节表：{课程主标题 (PK)、课程章名 (PK)、章节说明、章节编号}</p>\n<h4 id=\"课程小节表反范式化设计\"><a href=\"#课程小节表反范式化设计\" class=\"headerlink\" title=\"课程小节表反范式化设计\"></a>课程小节表反范式化设计</h4><p>课程章节表与课程小节表之间存在一对多的关系。</p>\n<ul>\n<li>课程小节表：{小节名称（PK）、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程章同小节关系表：{课程主标题（PK）、课程章节名（PK）、小节名称（PK）}</li>\n</ul>\n<p>合并为课程小节表：{课程主标题 (PK)、课程章节名 (PK)、小节名称 (PK)、小节视频 url、视频格式、小节时长、小节编号}</p>\n<h4 id=\"反范式化设计总结\"><a href=\"#反范式化设计总结\" class=\"headerlink\" title=\"反范式化设计总结\"></a>反范式化设计总结</h4><p>现在获取出一门课程包括的所有章节和小节的信息？</p>\n<p>过程：通过课程表、课程章节表、课程小节表即可查询课程包括的所有章节和小节的信息。</p>\n<h4 id=\"反范式化设计优化后的项目表结构\"><a href=\"#反范式化设计优化后的项目表结构\" class=\"headerlink\" title=\"反范式化设计优化后的项目表结构\"></a>反范式化设计优化后的项目表结构</h4><ul>\n<li>课程表：{主标题（PK）、副标题、方向、分类、难度、上线时间、学习人数、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>课程章节表：{课程主标题 (PK)、课程章名 (PK)、章节说明、章节编号}</li>\n<li>课程小节表：{课程主标题 (PK)、课程章节名 (PK)、小节名称 (PK)、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程方向表：{课程方向名称（PK）、添加时间}</li>\n<li>课程分类表：{课程分类名称（PK）、添加时间}</li>\n<li>课程难度表：{课程难度（PK）、添加时间}</li>\n<li>用户表：{用户昵称（PK）、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</li>\n<li>问答评论表：{标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、父评论标题、内容、类型、浏览量、发布时间}</li>\n<li>笔记表：{笔记标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、笔记内容、发布时间}</li>\n<li>评价表：{用户昵称 (PK)、课程主标题 (PK)、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n<li>用户选课表：{用户昵称 (PK)、课程主标题 (PK)、选课时间、累计听课时长}</li>\n</ul>\n<h3 id=\"物理设计\"><a href=\"#物理设计\" class=\"headerlink\" title=\"物理设计\"></a>物理设计</h3><h4 id=\"MySQL-常见的存储引擎\"><a href=\"#MySQL-常见的存储引擎\" class=\"headerlink\" title=\"MySQL 常见的存储引擎\"></a>MySQL 常见的存储引擎</h4><table>\n<thead>\n<tr>\n<th>引擎名称</th>\n<th>事务</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>MYISAM</td>\n<td>N</td>\n<td>MySQL 5.6 之前的默认引擎，最常用的非事务性存储引擎</td>\n</tr>\n<tr>\n<td>CSV</td>\n<td>N</td>\n<td>以 CSV 格式存储的非事务型存储引擎</td>\n</tr>\n<tr>\n<td>Archive</td>\n<td>N</td>\n<td>只允许查询和新增数据而不允许修改的非事务型存储引擎</td>\n</tr>\n<tr>\n<td>Memory</td>\n<td>N</td>\n<td>是一种易失性非事务型存储引擎</td>\n</tr>\n<tr>\n<td>INNODB</td>\n<td>Y</td>\n<td>最常用的事务型存储引擎</td>\n</tr>\n</tbody></table>\n<h4 id=\"InnoDB-存储引擎的特点\"><a href=\"#InnoDB-存储引擎的特点\" class=\"headerlink\" title=\"InnoDB 存储引擎的特点\"></a>InnoDB 存储引擎的特点</h4><ol>\n<li>事务型存储引擎支持 ACID</li>\n<li>数据按照主键聚集存储</li>\n<li>支持行级锁级 MVCC</li>\n<li>支持 Btree 和自适应 Hash 索引</li>\n<li>支持全文和空间索引</li>\n</ol>\n<h4 id=\"根据-InnoDB-特性优化项目表结构\"><a href=\"#根据-InnoDB-特性优化项目表结构\" class=\"headerlink\" title=\"根据 InnoDB 特性优化项目表结构\"></a>根据 InnoDB 特性优化项目表结构</h4><p>原：</p>\n<ul>\n<li>课程表：{主标题（PK）、副标题、方向、分类、难度、上线时间、学习人数、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>课程章节表：{课程主标题 (PK)、课程章名 (PK)、章节说明、章节编号}</li>\n<li>课程小节表：{课程主标题 (PK)、课程章节名 (PK)、小节名称 (PK)、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程方向表：{课程方向名称（PK）、添加时间}</li>\n<li>课程分类表：{课程分类名称（PK）、添加时间}</li>\n<li>课程难度表：{课程难度（PK）、添加时间}</li>\n<li>用户表：{用户昵称（PK）、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</li>\n<li>问答评论表：{标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、父评论标题、内容、类型、浏览量、发布时间}</li>\n<li>笔记表：{笔记标题 (PK)、课程主标题 (PK)、课程章名 (PK)、小节名称 (PK)、用户昵称 (PK)、笔记内容、发布时间}</li>\n<li>评价表：{用户昵称 (PK)、课程主标题 (PK)、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n<li>用户选课表：{用户昵称 (PK)、课程主标题 (PK)、选课时间、累计听课时长}</li>\n</ul>\n<p>优化后：</p>\n<ul>\n<li>课程表：{课程 ID(PK)、主标题、副标题、方向 ID、分类 ID、难度 ID、上线时间、学习人数、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</li>\n<li>课程章节表：{章节 ID(PK)、课程 ID、课程章节名、章节说明、章节编号}</li>\n<li>课程小节表：{小节 ID(PK)、课程 ID、章节 ID、小节名称、小节视频 url、视频格式、小节时长、小节编号}</li>\n<li>课程方向表：{课程方向 ID(PK)、课程方向名称、添加时间}</li>\n<li>课程分类表：{课程分类 ID(PK)、课程分类名称、添加时间}</li>\n<li>课程难度表：{课程难度 ID(PK)、课程难度、添加时间}</li>\n<li>用户表：{用户 ID(PK)、用户昵称、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</li>\n<li>问答评论表：{评论 ID(PK)、父评论 ID、课程 ID、章节 ID、小节 ID、评论标题、用户 ID、内容、类型、浏览量、发布时间}</li>\n<li>笔记表：{笔记 ID(PK)、课程 ID、章节 ID、小节 ID、笔记标题、用户昵称、笔记内容、发布时间}</li>\n<li>评价表：{评价 ID(PK)、用户 ID、课程 ID、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</li>\n<li>用户选课表：{用户选课 ID(PK)、用户 ID、课程 ID、选课时间、累计听课时长}</li>\n</ul>\n<h2 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h2><h3 id=\"整数类型\"><a href=\"#整数类型\" class=\"headerlink\" title=\"整数类型\"></a>整数类型</h3><table>\n    <tr>\n        <th>列类型</th>\n        <th>存储空间</th>\n        <th>属性</th>\n        <th>取值范围</th>\n    </tr>\n    <tr>\n        <td rowspan=\"2\">tinyint</td>\n        <td rowspan=\"2\">1 字节</td>\n        <td>SIGNED</td>\n        <td>-2^7 ~ 2^7-1</td>\n    </tr>\n    <tr>\n        <td>UNSIGNED</td>\n        <td>0 ~ 2^8-1</td>\n    </tr>\n    <tr>\n        <td rowspan=\"2\">smallint</td>\n        <td rowspan=\"2\">2 字节</td>\n        <td>SIGNED</td>\n        <td>-2^15 ~ 2^15-1</td>\n    </tr>\n    <tr>\n        <td>UNSIGNED</td>\n        <td>0 ~ 2^16-1</td>\n    </tr>\n    <tr>\n        <td rowspan=\"2\">mediumint</td>\n        <td rowspan=\"2\">3 字节</td>\n        <td>SIGNED</td>\n        <td>-2^23 ~ 2^23-1</td>\n    </tr>\n    <tr>\n        <td>UNSIGNED</td>\n        <td>0 ~ 2^24-1</td>\n    </tr>\n    <tr>\n        <td rowspan=\"2\">int</td>\n        <td rowspan=\"2\">4 字节</td>\n        <td>SIGNED</td>\n        <td>-2^31 ~ 2^31-1</td>\n    </tr>\n    <tr>\n        <td>UNSIGNED</td>\n        <td>0 ~ 2^32-1</td>\n    </tr>\n    <tr>\n        <td rowspan=\"2\">bigint</td>\n        <td rowspan=\"2\">8 字节</td>\n        <td>SIGNED</td>\n        <td>-2^63 ~ 2^63-1</td>\n    </tr>\n    <tr>\n        <td>UNSIGNED</td>\n        <td>0 ~ 2^64-1</td>\n    </tr>\n</table>\n\n<h3 id=\"实数（浮点数）类型\"><a href=\"#实数（浮点数）类型\" class=\"headerlink\" title=\"实数（浮点数）类型\"></a>实数（浮点数）类型</h3><table>\n<thead>\n<tr>\n<th>列类型</th>\n<th>存储空间</th>\n<th>是否为精确类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>FLOAT</td>\n<td>4 个字节</td>\n<td>否</td>\n</tr>\n<tr>\n<td>DOUBLE</td>\n<td>8 个字节</td>\n<td>否</td>\n</tr>\n<tr>\n<td>DECIMAL</td>\n<td>每 4 个字节存 9 个数字，小数点占一个字节</td>\n<td>是</td>\n</tr>\n</tbody></table>\n<p>MySQL<code>DECIMAL</code> 数据类型用于在数据库中存储精确的数值。我们经常将<code>DECIMAL</code>数据类型用于保留准确精确度的列，例如会计系统中的货币数据。</p>\n<p>要定义数据类型为<code>DECIMAL</code>的列，请使用以下语法：</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">column_name DECIMAL (P,D);</code></pre>\n\n<p>在上面的语法中：</p>\n<ul>\n<li><code>P</code>是表示有效数字数的精度。 <code>P</code>范围为<code>1〜65</code>。</li>\n<li><code>D</code>是表示小数点后的位数。 <code>D</code>的范围是<code>0</code>~`30<code>。MySQL 要求</code>D<code>小于或等于 (</code>&lt;=<code>)</code>P`。</li>\n</ul>\n<p><code>DECIMAL(P，D)</code>表示列可以存储<code>D</code>位小数的<code>P</code>位数。十进制列的实际范围取决于精度和刻度。</p>\n<p>与 INT 数据类型一样，<code>DECIMAL</code>类型也具有<code>UNSIGNED</code>和<code>ZEROFILL</code>属性。 如果使用<code>UNSIGNED</code>属性，则<code>DECIMAL UNSIGNED</code>的列将不接受负值。</p>\n<p>如果使用<code>ZEROFILL</code>，MySQL 将把显示值填充到<code>0</code>以显示由列定义指定的宽度。 另外，如果我们对<code>DECIMAL</code>列使用<code>ZERO FILL</code>，MySQL 将自动将<code>UNSIGNED</code>属性添加到列。</p>\n<p>以下示例使用<code>DECIMAL</code>数据类型定义的一个叫作<code>amount</code>的列。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">amount DECIMAL (6,2);</code></pre>\n\n<p>在此示例中，<code>amount</code>列最多可以存储<code>6</code>位数字，小数位数为<code>2</code>位；因此，<code>amount</code>列的范围是从<code>-9999.99</code>到<code>9999.99</code>。</p>\n<p>例如：DECIMAL(18,9) 列（占用 9 个字节）最多可以存储 9 位小数（4 个字节），9 位数字（4 个字节），一个小数点（1 个字节）可以存储 123456789.987654321。</p>\n<h3 id=\"时间类型\"><a href=\"#时间类型\" class=\"headerlink\" title=\"时间类型\"></a>时间类型</h3><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>存储空间</th>\n<th>格式</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>DATE</td>\n<td>3 字节</td>\n<td>YYYY-MM-DD</td>\n<td>从 1000-01-01 到 9999-12-31</td>\n</tr>\n<tr>\n<td>TIME</td>\n<td>3-6 字节</td>\n<td>HH:MM:SS[. 微秒值】</td>\n<td>从 -838:59:59 到 838:59:59</td>\n</tr>\n<tr>\n<td>YEAR</td>\n<td>1 字节</td>\n<td>YYYY</td>\n<td>从 1901 到 2155</td>\n</tr>\n<tr>\n<td>DATETIME</td>\n<td>5-8 字节</td>\n<td>YYYY-MM-DD HH:MM:SS[. 微秒值】</td>\n<td>从 1000-01-01 00:00:00 到 9999-12-31 23:59:59</td>\n</tr>\n<tr>\n<td>TIMESTAMP</td>\n<td>4-7 字节</td>\n<td>YYYY-MM-DD HH:MM:SS[. 微秒值】</td>\n<td>从 1000-01-01 00:00:00 到 9999-12-31 23:59:59</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>微秒</th>\n<th>存储空间</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>0 bytes</td>\n</tr>\n<tr>\n<td>1, 2</td>\n<td>1 byte</td>\n</tr>\n<tr>\n<td>3，4</td>\n<td>2 bytes</td>\n</tr>\n<tr>\n<td>5，6</td>\n<td>3 bytes</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>dt0</th>\n<th>time</th>\n<th>16:18:29</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>dt2</td>\n<td>time(2)</td>\n<td>16:18:29.72</td>\n</tr>\n<tr>\n<td>dt4</td>\n<td>time(4)</td>\n<td>16:18:29.7182</td>\n</tr>\n<tr>\n<td>dt6</td>\n<td>time(6)</td>\n<td>16:18:29.718216</td>\n</tr>\n</tbody></table>\n<h3 id=\"字符串类型\"><a href=\"#字符串类型\" class=\"headerlink\" title=\"字符串类型\"></a>字符串类型</h3><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>范围</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Char(M)</td>\n<td>M = 1 ~ 2^8-1 个字符</td>\n<td>固定长度</td>\n</tr>\n<tr>\n<td>VarChar(M)</td>\n<td>一行中所有 varchar 类型的列所占用的字节数不能超过 2^16-1 个字节。<br/>UTF8mb4 varchar(10)=40 字节</td>\n<td>存储可变长度的 M 个字符</td>\n</tr>\n<tr>\n<td>TinyText</td>\n<td>最大长度为 2^8-1 个字节</td>\n<td>可变长度</td>\n</tr>\n<tr>\n<td>Text</td>\n<td>最大长度为 2^16-1 (64K) 个字节</td>\n<td>可变长度</td>\n</tr>\n<tr>\n<td>MediumText</td>\n<td>最大长度为 2^24-1 (16M) 个字节</td>\n<td>可变长度</td>\n</tr>\n<tr>\n<td>LongText</td>\n<td>最大长度为 2^32-1 (4G) 个字节</td>\n<td>可变长度</td>\n</tr>\n<tr>\n<td>Enum</td>\n<td>集合最大数目为 2^16-1</td>\n<td>只能插入列表中的值</td>\n</tr>\n</tbody></table>\n<h3 id=\"数据类型实战\"><a href=\"#数据类型实战\" class=\"headerlink\" title=\"数据类型实战\"></a>数据类型实战</h3><h4 id=\"实战实数类型\"><a href=\"#实战实数类型\" class=\"headerlink\" title=\"实战实数类型\"></a>实战实数类型</h4><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create database test;\n\nuse test;\n\ncreate table t\n(\n    d1 double,\n    d2 decimal(10, 3)\n);\n\ninsert into t\nvalues (11.2, 11.2),\n       (9.01, 9.01),\n       (123.02, 123.02),\n       (1234.03, 1234.03);\n\nselect * from t;\n\nselect sum(d1), sum(d2) from t;</code></pre>\n\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">mysql&gt; create database test;\nQuery OK, 1 row affected (0.01 sec)\n\nmysql&gt; use test;\nDatabase changed\nmysql&gt; create table t\n    -&gt; (\n    -&gt;     d1 double,\n    -&gt;     d2 decimal(10, 3)\n    -&gt; );\nQuery OK, 0 rows affected (0.03 sec)\n\nmysql&gt; insert into t\n    -&gt; values (11.2, 11.2),\n    -&gt;        (9.01, 9.01),\n    -&gt;        (123.02, 123.002),\n    -&gt;        (1234.03, 1234.003);\nQuery OK, 4 rows affected (0.04 sec)\nRecords: 4  Duplicates: 0  Warnings: 0\n\nmysql&gt; select *\n    -&gt; from t;\n+---------+----------+\n| d1      | d2       |\n+---------+----------+\n|    11.2 | 11.200   |\n|    9.01 | 9.010    |\n|  123.02 | 123.020  |\n| 1234.03 | 1234.030 |\n+---------+----------+\n4 rows in set (0.05 sec)\n\nmysql&gt; select sum(d1), sum(d2)\n    -&gt; from t;\n+---------+----------+\n| sum(d1) | sum(d2)  |\n+---------+----------+\n| 1377.26 | 1377.260 |\n+---------+----------+\n1 row in set (0.05 sec)</code></pre>\n\n<h4 id=\"实战时间类型\"><a href=\"#实战时间类型\" class=\"headerlink\" title=\"实战时间类型\"></a>实战时间类型</h4><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create table t_timestamp\n(\n    dt timestamp\n);\n\ninsert into t_timestamp\nselect now();\n\nset time_zone &#x3D; &#39;+10:00&#39;;\n\nselect *\nfrom t_timestamp;\n\nset time_zone &#x3D; &#39;+8:00&#39;;</code></pre>\n\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">mysql&gt; create table t_timestamp(dt timestamp);\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; insert into t_timestamp select now();\nQuery OK, 1 row affected (0.00 sec)\nRecords: 1  Duplicates: 0  Warnings: 0\n\nmysql&gt; select * from t_timestamp;\n+---------------------+\n| dt                  |\n+---------------------+\n| 2021-04-02 12:02:07 |\n+---------------------+\n1 row in set (0.03 sec)\n\nmysql&gt; set time_zone &#x3D; &#39;+10:00&#39;;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; select * from t_timestamp;\n+---------------------+\n| dt                  |\n+---------------------+\n| 2021-04-03 02:02:07 |\n+---------------------+\n1 row in set (0.03 sec)\n\nmysql&gt; set time_zone &#x3D; &#39;+8:00&#39;;\nQuery OK, 0 rows affected (0.00 sec)</code></pre>\n\n<h3 id=\"如何为数据选择合适的数据类型\"><a href=\"#如何为数据选择合适的数据类型\" class=\"headerlink\" title=\"如何为数据选择合适的数据类型\"></a>如何为数据选择合适的数据类型</h3><ul>\n<li><p>优先选择符合存储数据需求的最小数据类型。</p>\n<ul>\n<li>1234567890（Bigint， Unsigned int）</li>\n<li>INET_ATON(‘255.255.255.255’) = 4294967295</li>\n<li>INET_NTOA(4294967295) = ‘255.255.255.255’</li>\n</ul>\n</li>\n<li><p>谨慎使用 ENUM，TEXT 字符串类型。TEXT 大小 16K，不能使用内存映射，需要使用磁盘映射。另外 MySQL 在读取数据时还需要二次查找，性能很差不能有默认值，不能进行全部的索引只能建立前缀索引。 ENUM 修改数据会产生风险。</p>\n</li>\n<li><p>同财务相关的数值型数据，必需使用 decimal 类型。</p>\n</li>\n</ul>\n<h3 id=\"为数据选择合适的数据类型\"><a href=\"#为数据选择合适的数据类型\" class=\"headerlink\" title=\"为数据选择合适的数据类型\"></a>为数据选择合适的数据类型</h3><h4 id=\"课程表\"><a href=\"#课程表\" class=\"headerlink\" title=\"课程表\"></a>课程表</h4><p>课程表：{课程 ID(PK)、主标题（唯一约束）、副标题、方向 ID、分类 ID、难度 ID、上线时间、学习人数、时长、简介、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>主标题 (UK)</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>副标题</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>课程方向 ID</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程分类 ID</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程难度 ID</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>上线时间</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>学习人数</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程时长</td>\n<td>time</td>\n</tr>\n<tr>\n<td>课程简介</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>学习需知</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>课程收获</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>讲师 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程主图片</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>综合评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>内容实用评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>简洁易懂评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>逻辑清晰评分</td>\n<td>decimal(3,1)</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程章节表\"><a href=\"#课程章节表\" class=\"headerlink\" title=\"课程章节表\"></a>课程章节表</h4><p>课程章节表：{章节 ID(PK)、课程 ID、课程章节名、章节说明、章节编号}</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">章节 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td align=\"left\">课程 ID(UK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td align=\"left\">课程章节名称 (UK)</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td align=\"left\">章节说明</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td align=\"left\">章节编号</td>\n<td>tinyint(2) unsigned ZEROFILL</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程小节表\"><a href=\"#课程小节表\" class=\"headerlink\" title=\"课程小节表\"></a>课程小节表</h4><p>课程小节表：{小节 ID(PK)、课程 ID、章节 ID、小节名称、小节视频 url、视频格式、小节时长、小节编号}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>小节 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID(UK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID(UK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节名称 (UK)</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>小节视频 url</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>视频格式</td>\n<td>enum(‘avi’,’mp4’,’mpeg’)</td>\n</tr>\n<tr>\n<td>小节时长</td>\n<td>time</td>\n</tr>\n<tr>\n<td>小节编号</td>\n<td>tinyint(2) unsigned ZEROFILL</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程方向表\"><a href=\"#课程方向表\" class=\"headerlink\" title=\"课程方向表\"></a>课程方向表</h4><p>课程方向表：{课程方向 ID(PK)、课程方向名称、添加时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程方向 ID(PK)</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程方向名称 (UK)</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程分类表\"><a href=\"#课程分类表\" class=\"headerlink\" title=\"课程分类表\"></a>课程分类表</h4><p>课程分类表：{课程分类 ID(PK)、课程分类名称、添加时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程分类 ID(PK)</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程分类名称 (UK)</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程难度表\"><a href=\"#课程难度表\" class=\"headerlink\" title=\"课程难度表\"></a>课程难度表</h4><p>课程难度表：{课程难度 ID(PK)、课程难度、添加时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程分类 ID(PK)</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程难度 (UK)</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"用户表\"><a href=\"#用户表\" class=\"headerlink\" title=\"用户表\"></a>用户表</h4><p>用户表：{用户 ID(PK)、用户昵称、密码、性别、省、市、职位、说明、经验、积分、关注人数、粉丝人数、讲师标识、注册时间、用户状态}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>用户 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户昵称 (UK)</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>密码</td>\n<td>char(32)</td>\n</tr>\n<tr>\n<td>性别</td>\n<td>char(2)</td>\n</tr>\n<tr>\n<td>省</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>市</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>职位</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>说明</td>\n<td>varchar(100)</td>\n</tr>\n<tr>\n<td>经验</td>\n<td>mediumint unsigned</td>\n</tr>\n<tr>\n<td>积分</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>关注人数</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>粉丝人数</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>讲师标识</td>\n<td>tinyint unsigned</td>\n</tr>\n<tr>\n<td>注册时间</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>用户状态</td>\n<td>tinyint unsigned</td>\n</tr>\n</tbody></table>\n<h4 id=\"问答评论表\"><a href=\"#问答评论表\" class=\"headerlink\" title=\"问答评论表\"></a>问答评论表</h4><p>问答评论表：{评论 ID(PK)、父评论 ID、课程 ID、章节 ID、小节 ID、评论标题、用户 ID、内容、类型、浏览量、发布时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>评论 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>父评论 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>评论标题</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>内容</td>\n<td>text</td>\n</tr>\n<tr>\n<td>类型</td>\n<td>enum(‘问答’,’评论’)</td>\n</tr>\n<tr>\n<td>浏览量</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n<h4 id=\"笔记表\"><a href=\"#笔记表\" class=\"headerlink\" title=\"笔记表\"></a>笔记表</h4><p>笔记表：{笔记 ID(PK)、课程 ID、章节 ID、小节 ID、笔记标题、用户昵称、笔记内容、发布时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>笔记 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>笔记标题</td>\n<td>varchar(100)</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>笔记内容</td>\n<td>text</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n<h4 id=\"评价表\"><a href=\"#评价表\" class=\"headerlink\" title=\"评价表\"></a>评价表</h4><p>评价表：{评价 ID(PK)、用户 ID、课程 ID、内容、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分、发布时间}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>评价 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>评价内容</td>\n<td>text</td>\n</tr>\n<tr>\n<td>综合评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>内容实用评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>简洁易懂评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>逻辑清晰评分</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>time</td>\n</tr>\n</tbody></table>\n<h4 id=\"用户选课表\"><a href=\"#用户选课表\" class=\"headerlink\" title=\"用户选课表\"></a>用户选课表</h4><p>用户选课表：{用户选课 ID(PK)、用户 ID、课程 ID、选课时间、累计听课时长}</p>\n<table>\n<thead>\n<tr>\n<th>列名</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>用户选课 ID(PK)</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>选课时间</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>累计听课时长</td>\n<td>time</td>\n</tr>\n</tbody></table>\n<h2 id=\"对象命名\"><a href=\"#对象命名\" class=\"headerlink\" title=\"对象命名\"></a>对象命名</h2><h3 id=\"如何为表和列选择合适的名字\"><a href=\"#如何为表和列选择合适的名字\" class=\"headerlink\" title=\"如何为表和列选择合适的名字\"></a>如何为表和列选择合适的名字</h3><ul>\n<li><p>所有数据库对象名称必须使用小写字母，可选用下划线分割。大小写敏感。</p>\n</li>\n<li><p>所有数据库对象名称禁止使用MySQL保留关键字。保留关键字文档：<a href=\"https://dev.mysql.com/doc/refman/5.7/en/keywords.html\">MySQL 5.7 Reference Manual Keywords and Reserved Words</a>。</p>\n</li>\n<li><p>数据库对象的命名要做到见名识义，并且最好不要超过 32 个字。</p>\n</li>\n<li><p>建议表名中包含数据库名称。</p>\n</li>\n<li><p>临时库表必须以 tmp 为前缀并以日期为后缀。</p>\n</li>\n<li><p>用于备份的库，表必须以 bak 为前缀并以日期为后缀。</p>\n</li>\n<li><p>所有存储相同数据的列名和列类型必须一致。</p>\n</li>\n</ul>\n<h3 id=\"最终数据库设计\"><a href=\"#最终数据库设计\" class=\"headerlink\" title=\"最终数据库设计\"></a>最终数据库设计</h3><h4 id=\"课程表-imc-course\"><a href=\"#课程表-imc-course\" class=\"headerlink\" title=\"课程表 imc_course\"></a>课程表 imc_course</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程 ID(PK)</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>主标题 (UK)</td>\n<td>title</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>副标题</td>\n<td>title_desc</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>课程方向 ID</td>\n<td>type_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程分类 ID</td>\n<td>class_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>课程难度 ID</td>\n<td>level_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>上线时间</td>\n<td>online_time</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>学习人数</td>\n<td>study_cnt</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程时长</td>\n<td>course_time</td>\n<td>time</td>\n</tr>\n<tr>\n<td>课程简介</td>\n<td>intro</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>学习需知</td>\n<td>info</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>课程收获</td>\n<td>harvest</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>讲师 ID</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程主图片</td>\n<td>main_pic</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>综合评分</td>\n<td>score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>内容实用评分</td>\n<td>content_score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>简洁易懂评分</td>\n<td>level_score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>逻辑清晰评分</td>\n<td>logic_score</td>\n<td>decimal(3,1)</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程章节表-imc-chapter\"><a href=\"#课程章节表-imc-chapter\" class=\"headerlink\" title=\"课程章节表 imc_chapter\"></a>课程章节表 imc_chapter</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>章节 ID（PK）</td>\n<td>chapter_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID (UK)</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节名称（UK）</td>\n<td>chapter_name</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>章节说明</td>\n<td>chapter_info</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>章节编号</td>\n<td>chapter_no</td>\n<td>tinyint(2) unsigned <br />ZEROFILL</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程小节表-imc-subsection\"><a href=\"#课程小节表-imc-subsection\" class=\"headerlink\" title=\"课程小节表 imc_subsection\"></a>课程小节表 imc_subsection</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>小节 ID（PK）</td>\n<td>sub_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID（UK）</td>\n<td>chapter_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID（UK）</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节名称（UK）</td>\n<td>sub_name</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>小节 URL</td>\n<td>sub_url</td>\n<td>varchar(200)</td>\n</tr>\n<tr>\n<td>视频格式</td>\n<td>video_type</td>\n<td>enum(‘avi’,’mp4’,’mpeg’)</td>\n</tr>\n<tr>\n<td>小节时长</td>\n<td>sub_time</td>\n<td>time</td>\n</tr>\n<tr>\n<td>小节编号</td>\n<td>sub_no</td>\n<td>tinyint(2) unsigned <br />ZEROFILL</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程分类表-imc-class\"><a href=\"#课程分类表-imc-class\" class=\"headerlink\" title=\"课程分类表 imc_class\"></a>课程分类表 imc_class</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程分类 ID（PK）</td>\n<td>class_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>分类名称（UK）</td>\n<td>class_name</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>add_time</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程难度表-imc-level\"><a href=\"#课程难度表-imc-level\" class=\"headerlink\" title=\"课程难度表 imc_level\"></a>课程难度表 imc_level</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程难度 ID（PK）</td>\n<td>level_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>难度名称（UK）</td>\n<td>level_name</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>add_time</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"课程方向表-imc-type\"><a href=\"#课程方向表-imc-type\" class=\"headerlink\" title=\"课程方向表 imc_type\"></a>课程方向表 imc_type</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>课程方向 ID（PK）</td>\n<td>type_id</td>\n<td>smallint unsigned</td>\n</tr>\n<tr>\n<td>方向名称</td>\n<td>tyoe_name</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>添加时间</td>\n<td>add_time</td>\n<td>timestamp</td>\n</tr>\n</tbody></table>\n<h4 id=\"用户表-imc-user\"><a href=\"#用户表-imc-user\" class=\"headerlink\" title=\"用户表 imc_user\"></a>用户表 imc_user</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>用户 ID（PK）</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户昵称（UK）</td>\n<td>usr_nick</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>密码</td>\n<td>user_pwd</td>\n<td>char(32)</td>\n</tr>\n<tr>\n<td>性别</td>\n<td>sex</td>\n<td>char(2)</td>\n</tr>\n<tr>\n<td>省</td>\n<td>province</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>市</td>\n<td>city</td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td>职位</td>\n<td>position</td>\n<td>varchar(10)</td>\n</tr>\n<tr>\n<td>说明</td>\n<td>mem</td>\n<td>varchar(100)</td>\n</tr>\n<tr>\n<td>经验值</td>\n<td>exp_cnt</td>\n<td>mediumint unsigned</td>\n</tr>\n<tr>\n<td>积分</td>\n<td>score</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>关注人数</td>\n<td>follow_cnt</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>粉丝人数</td>\n<td>fans_cnt</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>讲师标识</td>\n<td>is_teacher</td>\n<td>tinyint unsigned</td>\n</tr>\n<tr>\n<td>注册时间</td>\n<td>reg_time</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>用户状态</td>\n<td>user_status</td>\n<td>tinyint unsigned</td>\n</tr>\n</tbody></table>\n<h4 id=\"问答评论表-imc-question\"><a href=\"#问答评论表-imc-question\" class=\"headerlink\" title=\"问答评论表 imc_question\"></a>问答评论表 imc_question</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>评论 ID（PK）</td>\n<td>question_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID</td>\n<td>chapter_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节 ID</td>\n<td>sub_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>父评论 ID</td>\n<td>reply_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>评论标题</td>\n<td>quest_title</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>评论内容</td>\n<td>quest_contenttext</td>\n<td>text</td>\n</tr>\n<tr>\n<td>评论类型</td>\n<td>quest_type</td>\n<td>enum(‘问答’,’评论’)</td>\n</tr>\n<tr>\n<td>浏览量</td>\n<td>view_cnt</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>add_time</td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n<h4 id=\"笔记表-imc-note\"><a href=\"#笔记表-imc-note\" class=\"headerlink\" title=\"笔记表 imc_note\"></a>笔记表 imc_note</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>笔记 ID（PK）</td>\n<td>note_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>章节 ID</td>\n<td>chapter_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>小节 ID</td>\n<td>sub_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>笔记标题</td>\n<td>note_title</td>\n<td>varchar(50)</td>\n</tr>\n<tr>\n<td>笔记内容</td>\n<td>note_contenttext</td>\n<td>text</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>add_time</td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n<h4 id=\"评价表-imc-classvalue\"><a href=\"#评价表-imc-classvalue\" class=\"headerlink\" title=\"评价表 imc_classvalue\"></a>评价表 imc_classvalue</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>评价 ID（PK）</td>\n<td>value_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>内容评分</td>\n<td>content_score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>简单易懂</td>\n<td>level_score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>逻辑清晰</td>\n<td>logic_score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>综合评分</td>\n<td>score</td>\n<td>decimal(3,1)</td>\n</tr>\n<tr>\n<td>发布时间</td>\n<td>add_time</td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n<h4 id=\"用户选课表-imc-selectcouese\"><a href=\"#用户选课表-imc-selectcouese\" class=\"headerlink\" title=\"用户选课表 imc_selectcouese\"></a>用户选课表 imc_selectcouese</h4><table>\n<thead>\n<tr>\n<th>列名</th>\n<th>代码</th>\n<th>数据类型</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>选课 ID（PK）</td>\n<td>select_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>用户 ID</td>\n<td>user_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>课程 ID</td>\n<td>course_id</td>\n<td>int unsigned</td>\n</tr>\n<tr>\n<td>选课时间</td>\n<td>select_time</td>\n<td>datetime</td>\n</tr>\n<tr>\n<td>累计听课时间</td>\n<td>study_time</td>\n<td>time</td>\n</tr>\n</tbody></table>\n","text":"数据库结构设计 业务分析 逻辑设计 数据类型 对象命名 建立库表 业务分析 课程属性：{主标题、副标题、方向、分类、难度、最新、最热、时长、简介、人数、需知、收获、讲师名、讲师职位、课程图片、综合评分、内容实用评分、简洁易懂评分、逻辑清晰评分} 课程列表属性：{章节、小节名、说明...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"16 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"},{"name":"MySQL","slug":"SQL/MySQL","count":3,"path":"api/categories/SQL/MySQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"},{"name":"MySQL","slug":"MySQL","count":3,"path":"api/tags/MySQL.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">数据库结构设计</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%9A%E5%8A%A1%E5%88%86%E6%9E%90\"><span class=\"toc-text\">业务分析</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">逻辑设计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%BD%E8%A1%A8%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">宽表模式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%BD%E8%A1%A8%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">宽表模式存在的问题</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%BD%E8%A1%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">宽表模式的应用场景</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%8C%83%E5%BC%8F\"><span class=\"toc-text\">数据库设计范式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F\"><span class=\"toc-text\">第一范式</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F\"><span class=\"toc-text\">第二范式</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F\"><span class=\"toc-text\">第三范式</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%80%BB%E8%BE%91%E5%BB%BA%E6%A8%A1\"><span class=\"toc-text\">逻辑建模</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">课程对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%88%97%E8%A1%A8%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">课程列表对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AE%B2%E5%B8%88%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">讲师对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">用户对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%97%AE%E7%AD%94%E8%AF%84%E8%AE%BA%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">问答评论对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%94%E8%AE%B0%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">笔记对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%84%E4%BB%B7%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">评价对象</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">反范式化设计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">范式化设计存在的问题</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E7%AB%A0%E8%8A%82%E8%A1%A8%E5%8F%8D%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">课程章节表反范式化设计</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%B0%8F%E8%8A%82%E8%A1%A8%E5%8F%8D%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">课程小节表反范式化设计</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">反范式化设计总结</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E8%8C%83%E5%BC%8F%E5%8C%96%E8%AE%BE%E8%AE%A1%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E9%A1%B9%E7%9B%AE%E8%A1%A8%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">反范式化设计优化后的项目表结构</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%A9%E7%90%86%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">物理设计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#MySQL-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E\"><span class=\"toc-text\">MySQL 常见的存储引擎</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#InnoDB-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">InnoDB 存储引擎的特点</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A0%B9%E6%8D%AE-InnoDB-%E7%89%B9%E6%80%A7%E4%BC%98%E5%8C%96%E9%A1%B9%E7%9B%AE%E8%A1%A8%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">根据 InnoDB 特性优化项目表结构</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">整数类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E6%95%B0%EF%BC%88%E6%B5%AE%E7%82%B9%E6%95%B0%EF%BC%89%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">实数（浮点数）类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">时间类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">字符串类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9E%E6%88%98\"><span class=\"toc-text\">数据类型实战</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E6%88%98%E5%AE%9E%E6%95%B0%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">实战实数类型</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E6%88%98%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">实战时间类型</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E4%B8%BA%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">如何为数据选择合适的数据类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">为数据选择合适的数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E8%A1%A8\"><span class=\"toc-text\">课程表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E7%AB%A0%E8%8A%82%E8%A1%A8\"><span class=\"toc-text\">课程章节表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%B0%8F%E8%8A%82%E8%A1%A8\"><span class=\"toc-text\">课程小节表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E6%96%B9%E5%90%91%E8%A1%A8\"><span class=\"toc-text\">课程方向表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%88%86%E7%B1%BB%E8%A1%A8\"><span class=\"toc-text\">课程分类表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E9%9A%BE%E5%BA%A6%E8%A1%A8\"><span class=\"toc-text\">课程难度表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E8%A1%A8\"><span class=\"toc-text\">用户表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%97%AE%E7%AD%94%E8%AF%84%E8%AE%BA%E8%A1%A8\"><span class=\"toc-text\">问答评论表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%94%E8%AE%B0%E8%A1%A8\"><span class=\"toc-text\">笔记表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%84%E4%BB%B7%E8%A1%A8\"><span class=\"toc-text\">评价表</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E9%80%89%E8%AF%BE%E8%A1%A8\"><span class=\"toc-text\">用户选课表</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AF%B9%E8%B1%A1%E5%91%BD%E5%90%8D\"><span class=\"toc-text\">对象命名</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E4%B8%BA%E8%A1%A8%E5%92%8C%E5%88%97%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%90%8D%E5%AD%97\"><span class=\"toc-text\">如何为表和列选择合适的名字</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%80%E7%BB%88%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">最终数据库设计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E8%A1%A8-imc-course\"><span class=\"toc-text\">课程表 imc_course</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E7%AB%A0%E8%8A%82%E8%A1%A8-imc-chapter\"><span class=\"toc-text\">课程章节表 imc_chapter</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%B0%8F%E8%8A%82%E8%A1%A8-imc-subsection\"><span class=\"toc-text\">课程小节表 imc_subsection</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E5%88%86%E7%B1%BB%E8%A1%A8-imc-class\"><span class=\"toc-text\">课程分类表 imc_class</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E9%9A%BE%E5%BA%A6%E8%A1%A8-imc-level\"><span class=\"toc-text\">课程难度表 imc_level</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E7%A8%8B%E6%96%B9%E5%90%91%E8%A1%A8-imc-type\"><span class=\"toc-text\">课程方向表 imc_type</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E8%A1%A8-imc-user\"><span class=\"toc-text\">用户表 imc_user</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%97%AE%E7%AD%94%E8%AF%84%E8%AE%BA%E8%A1%A8-imc-question\"><span class=\"toc-text\">问答评论表 imc_question</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%AC%94%E8%AE%B0%E8%A1%A8-imc-note\"><span class=\"toc-text\">笔记表 imc_note</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%AF%84%E4%BB%B7%E8%A1%A8-imc-classvalue\"><span class=\"toc-text\">评价表 imc_classvalue</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%94%A8%E6%88%B7%E9%80%89%E8%AF%BE%E8%A1%A8-imc-selectcouese\"><span class=\"toc-text\">用户选课表 imc_selectcouese</span></a></li></ol></li></ol></li></ol>","author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}},"mapped":true,"prev_post":{"title":"访问数据库的N种武器和姿势","uid":"1238394f397c282c8b01fc45805c9200","slug":"2021-04-03-MySQL 学习 03 - 访问数据库的N种武器和姿势","date":"2021-04-03T06:02:10.000Z","updated":"2021-09-09T11:10:00.924Z","comments":true,"path":"api/articles/2021-04-03-MySQL 学习 03 - 访问数据库的N种武器和姿势.json","keywords":null,"cover":null,"text":"使用命令行工具访问[root@Jaime ~]# mysql -uroot -proot -hlocalhost mysql: [Warning] Using a password on the command line interface can be insecure. We...","link":"","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"},{"name":"MySQL","slug":"SQL/MySQL","count":3,"path":"api/categories/SQL/MySQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"},{"name":"MySQL","slug":"MySQL","count":3,"path":"api/tags/MySQL.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}},"next_post":{"title":"MySQL 学习 01 - 技术选型之数据库选型","uid":"8dfaf998f9013927b17dde97d5b3df05","slug":"2021-04-01-MySQL 学习 01 - 技术选型之数据库选型","date":"2021-04-01T06:20:10.000Z","updated":"2021-09-09T11:10:00.920Z","comments":true,"path":"api/articles/2021-04-01-MySQL 学习 01 - 技术选型之数据库选型.json","keywords":null,"cover":null,"text":"SQL VS NOSQLSQL MySQL Oracle SQLServe PostGreSQL NOSQL HBase MongoDB Redis Hadoop 关系型数据库的特点和适用场景关系数据库的特点 数据结构化存储在二维表中。 姓名 性别 生日 注册时间 张三 男 19...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"SQL","slug":"SQL","count":16,"path":"api/categories/SQL.json"},{"name":"MySQL","slug":"SQL/MySQL","count":3,"path":"api/categories/SQL/MySQL.json"}],"tags":[{"name":"SQL","slug":"SQL","count":16,"path":"api/tags/SQL.json"},{"name":"MySQL","slug":"MySQL","count":3,"path":"api/tags/MySQL.json"}],"author":{"name":"JaimeZeng","slug":"blog-author","avatar":"https://cdn.staticaly.com/gh/JaimeZeng/cdn/main/blog/avatar.png","link":"/","description":"Stay Simple.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":"https://github.com/JaimeZeng"}}}}}